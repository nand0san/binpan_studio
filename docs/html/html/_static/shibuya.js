(()=>{function p(t){let e=t.getAttribute("aria-controls"),o=document.getElementById(e),s="data-expanded-"+e;t.addEventListener("click",function(){document.body.hasAttribute(s)?(document.body.removeAttribute(s),o.classList.remove("_expanded"),u(e,"false")):(document.body.setAttribute(s,"true"),o.classList.add("_expanded"),u(e,"true"))})}function u(t,e){let o=document.querySelectorAll('[aria-controls="'+t+'"]');for(el of o)el.setAttribute("aria-expanded",e)}var m=document.querySelectorAll(".js-menu");for(let t=0;t<m.length;t++)p(m[t]);var a=document.querySelector(".announcement"),g=document.querySelector(".announcement-close");if(a){let e=function(){t.textContent=`:root{--sy-s-banner-height:${a.clientHeight}px}`};k=e;let t=document.createElement("style");document.head.appendChild(t),g.addEventListener("click",()=>{a.parentNode.removeChild(a),document.head.removeChild(t)}),e(),window.addEventListener("resize",e)}var k;var y=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,d=document.documentElement;function S(){let t=d.classList.contains("dark"),e=t?"dark":"light";d.classList.remove(e);let o=t?"light":"dark";h(o),sessionStorage._theme=o}var r=document.querySelector(".js-theme");function h(t){d.classList.add(t);let e=r.getAttribute("data-aria-"+t);r.setAttribute("aria-label",e)}if(r){let t=y?"dark":"light",e=sessionStorage._theme||t;h(e),r.addEventListener("click",S)}function f(){let t='.localtoc a[href="'+location.hash+'"]',e=document.querySelector(t);e&&(document.querySelectorAll(".localtoc li").forEach(s=>{s.classList.remove("active")}),e.parentNode.classList.add("active"))}f();window.addEventListener("hashchange",()=>{f()},!1);var i=document.querySelector(".js-repo-stats");async function b(t,e){let o=`https://api.github.com/repos/${t}/${e}`,n=await(await fetch(o)).json(),c={stars:n.watchers,forks:n.forks};l(c),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(c))}async function v(t,e){let o="https://gitlab.com/api/v4/projects/"+encodeURIComponent(t+"/"+e),n=await(await fetch(o)).json(),c={stars:n.star_count,forks:n.forks_count};l(c),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(c))}function l({stars:t,forks:e}){t&&(document.querySelector(".js-repo-stars").textContent=t),e&&(document.querySelector(".js-repo-forks").textContent=e)}function w(){let t=sessionStorage.getItem("_sy/repo/stats");if(t)l(JSON.parse(t));else{let e=i.getAttribute("data-user"),o=i.getAttribute("data-repo"),s=i.getAttribute("data-type");s==="github"?b(e,o):s==="gitlab"&&v(e,o)}}i&&w();})();
