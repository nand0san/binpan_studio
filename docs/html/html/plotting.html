<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Plotting Module - BinPan 0.5.1 documentation</title>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="PostgreSQL Module" href="postgresql.html" /><link rel="prev" title="Messages Module" href="messages.html" />
  <script>
    const isDarkTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const sessionTheme = sessionStorage['_theme']
    if (sessionTheme) {
      document.documentElement.classList.add(sessionTheme)
    } else if (isDarkTheme) {
      document.documentElement.classList.add('dark')
    }
  </script><link rel="stylesheet" type="text/css" href="_static/pygments.css?v=aecf457f" />
    <link rel="stylesheet" type="text/css" href="_static/shibuya.css?v=2981b36d" />
    <link rel="stylesheet" type="text/css" href="_static/style.css?v=1e48dca6" />
    <link media="print" rel="stylesheet" type="text/css" href="_static/print.css?v=ee381b95" />
    <style>
:root {
  --sy-f-sys:-apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Droid Sans, Helvetica Neue;--sy-f-cjk:PingFang SC, Hiragino Sans GB, Droid Sans Fallback, Microsoft YaHei;--sy-f-heading:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-text:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-mono:Menlo, Monaco, Consolas, "Courier New", monospace;--sy-c-divider:rgba(var(--sy-rc-text), 0.1);--sy-c-divider-weak:rgba(var(--sy-rc-text), 0.05);--sy-c-border:rgba(var(--sy-rc-text), 0.14);--sy-s-banner-height:0rem;--sy-s-navbar-height:56px;--sy-s-offset-top:calc(var(--sy-s-navbar-height) + var(--sy-s-banner-height));--sy-c-link:rgb(var(--sy-rc-theme));--sy-c-link-weak:rgba(var(--sy-rc-theme), 0.86);
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
@media (prefers-color-scheme: light) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
  }
}
html.light {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
html.dark {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
}
</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-heading: Inter, var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Plotting Module"/>
<meta name="twitter:card" content="summary"/></head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand mr-4" href="index.html">
      
      
      <strong>BinPan</strong>
    </a>
    <div class="sy-head-links" id="NavLinks">
      <nav class="sy-head-nav"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form>
        
        
        <div class="sy-head-social flex items-center">
        </div>
      </div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden">
      <button class="js-theme theme-switch flex items-center" data-aria-light="Switch to dark mode" data-aria-dark="Switch to light mode">
        <i class="i-icon theme-icon"></i>
      </button>
      <button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="NavLinks" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="binpan.html">BinPan Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregations.html">Aggregations Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exchange.html">Exchange Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Files Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="indicators.html">Indicators Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="influx_manager.html">Influx Manager Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="market.html">Market Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Messages Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Plotting Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgresql.html">PostgreSQL Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="quest.html">Requests Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis_fetch.html">Redis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="stat_tests.html">Statistical Tests and Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="starters.html">Starters Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategies.html">Strategies Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tags.html">Tags &amp; Backtesting Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="time_helper.html">Time Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="wallet.html">Wallet Module</a></li>
</ul>

        </div>
      </div>
      
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-icon close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>On this page</h3>
    <ul>
<li><a class="reference internal" href="#colors">Colors</a></li>
<li><a class="reference internal" href="#module-handlers.plotting">Module Info</a><ul>
<li><a class="reference internal" href="#handlers.plotting.set_color"><code class="docutils literal notranslate"><span class="pre">set_color()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_subplots"><code class="docutils literal notranslate"><span class="pre">set_subplots()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_candles"><code class="docutils literal notranslate"><span class="pre">set_candles()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_volume_series"><code class="docutils literal notranslate"><span class="pre">set_volume_series()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_ta_scatter"><code class="docutils literal notranslate"><span class="pre">set_ta_scatter()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_ta_line"><code class="docutils literal notranslate"><span class="pre">set_ta_line()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.fill_missing"><code class="docutils literal notranslate"><span class="pre">fill_missing()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_arrows"><code class="docutils literal notranslate"><span class="pre">set_arrows()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.add_traces"><code class="docutils literal notranslate"><span class="pre">add_traces()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.set_layout_format"><code class="docutils literal notranslate"><span class="pre">set_layout_format()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.update_names"><code class="docutils literal notranslate"><span class="pre">update_names()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.deploy_traces"><code class="docutils literal notranslate"><span class="pre">deploy_traces()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.generate_vertical_shapes"><code class="docutils literal notranslate"><span class="pre">generate_vertical_shapes()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.candles_ta"><code class="docutils literal notranslate"><span class="pre">candles_ta()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.candles_tagged"><code class="docutils literal notranslate"><span class="pre">candles_tagged()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.plot_trades"><code class="docutils literal notranslate"><span class="pre">plot_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.plot_pie"><code class="docutils literal notranslate"><span class="pre">plot_pie()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.plot_scatter"><code class="docutils literal notranslate"><span class="pre">plot_scatter()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.plot_hists_vs"><code class="docutils literal notranslate"><span class="pre">plot_hists_vs()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.orderbook_depth"><code class="docutils literal notranslate"><span class="pre">orderbook_depth()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.dist_plot"><code class="docutils literal notranslate"><span class="pre">dist_plot()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.bar_plot"><code class="docutils literal notranslate"><span class="pre">bar_plot()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.profile_plot"><code class="docutils literal notranslate"><span class="pre">profile_plot()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.plot_orderbook_value"><code class="docutils literal notranslate"><span class="pre">plot_orderbook_value()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.normalize"><code class="docutils literal notranslate"><span class="pre">normalize()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.find_step_for_bins"><code class="docutils literal notranslate"><span class="pre">find_step_for_bins()</span></code></a></li>
<li><a class="reference internal" href="#handlers.plotting.group_slot"><code class="docutils literal notranslate"><span class="pre">group_slot()</span></code></a></li>
</ul>
</li>
</ul>

  </div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-icon menu"></i>
      </button>
    </div>
    <ul class="flex-1">
      
      
      <li><a href="index.html">BinPan</a><span>/</span></li>
      
      <li><strong>Plotting Module</strong></li>
      
      
    </ul>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-icon outdent"></i>
      </button>
    </div>
  </div>
</div>
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="plotting-module">
<h1>Plotting Module<a class="headerlink" href="#plotting-module" title="Link to this heading">¶</a></h1>
<p>This module can manage plots.</p>
<p>Plots made with Plotly library: <a class="reference external" href="https://plotly.com/">https://plotly.com/</a></p>
<section id="colors">
<h2>Colors<a class="headerlink" href="#colors" title="Link to this heading">¶</a></h2>
<p>Colors can be picked with the name of the color or the index number from this list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">plotly_colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;aliceblue&quot;</span><span class="p">,</span> <span class="s2">&quot;antiquewhite&quot;</span><span class="p">,</span> <span class="s2">&quot;aqua&quot;</span><span class="p">,</span> <span class="s2">&quot;aquamarine&quot;</span><span class="p">,</span> <span class="s2">&quot;azure&quot;</span><span class="p">,</span> <span class="s2">&quot;beige&quot;</span><span class="p">,</span> <span class="s2">&quot;bisque&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
</span><span id="1-2">                 <span class="s2">&quot;blanchedalmond&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;blueviolet&quot;</span><span class="p">,</span> <span class="s2">&quot;brown&quot;</span><span class="p">,</span> <span class="s2">&quot;burlywood&quot;</span><span class="p">,</span> <span class="s2">&quot;cadetblue&quot;</span><span class="p">,</span> <span class="s2">&quot;chartreuse&quot;</span><span class="p">,</span> <span class="s2">&quot;chocolate&quot;</span><span class="p">,</span>
</span><span id="1-3">                 <span class="s2">&quot;coral&quot;</span><span class="p">,</span> <span class="s2">&quot;cornflowerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;cornsilk&quot;</span><span class="p">,</span> <span class="s2">&quot;crimson&quot;</span><span class="p">,</span> <span class="s2">&quot;cyan&quot;</span><span class="p">,</span> <span class="s2">&quot;darkblue&quot;</span><span class="p">,</span> <span class="s2">&quot;darkcyan&quot;</span><span class="p">,</span> <span class="s2">&quot;darkgoldenrod&quot;</span><span class="p">,</span>
</span><span id="1-4">                 <span class="s2">&quot;darkgray&quot;</span><span class="p">,</span> <span class="s2">&quot;darkgrey&quot;</span><span class="p">,</span> <span class="s2">&quot;darkgreen&quot;</span><span class="p">,</span> <span class="s2">&quot;darkkhaki&quot;</span><span class="p">,</span> <span class="s2">&quot;darkmagenta&quot;</span><span class="p">,</span> <span class="s2">&quot;darkolivegreen&quot;</span><span class="p">,</span> <span class="s2">&quot;darkorange&quot;</span><span class="p">,</span>
</span><span id="1-5">                 <span class="s2">&quot;darkorchid&quot;</span><span class="p">,</span> <span class="s2">&quot;darkred&quot;</span><span class="p">,</span> <span class="s2">&quot;darksalmon&quot;</span><span class="p">,</span> <span class="s2">&quot;darkseagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;darkslateblue&quot;</span><span class="p">,</span> <span class="s2">&quot;darkslategray&quot;</span><span class="p">,</span>
</span><span id="1-6">                 <span class="s2">&quot;darkslategrey&quot;</span><span class="p">,</span> <span class="s2">&quot;darkturquoise&quot;</span><span class="p">,</span> <span class="s2">&quot;darkviolet&quot;</span><span class="p">,</span> <span class="s2">&quot;deeppink&quot;</span><span class="p">,</span> <span class="s2">&quot;deepskyblue&quot;</span><span class="p">,</span> <span class="s2">&quot;dimgray&quot;</span><span class="p">,</span> <span class="s2">&quot;dimgrey&quot;</span><span class="p">,</span>
</span><span id="1-7">                 <span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;firebrick&quot;</span><span class="p">,</span> <span class="s2">&quot;floralwhite&quot;</span><span class="p">,</span> <span class="s2">&quot;forestgreen&quot;</span><span class="p">,</span> <span class="s2">&quot;fuchsia&quot;</span><span class="p">,</span> <span class="s2">&quot;gainsboro&quot;</span><span class="p">,</span> <span class="s2">&quot;ghostwhite&quot;</span><span class="p">,</span> <span class="s2">&quot;gold&quot;</span><span class="p">,</span>
</span><span id="1-8">                 <span class="s2">&quot;goldenrod&quot;</span><span class="p">,</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;greenyellow&quot;</span><span class="p">,</span> <span class="s2">&quot;honeydew&quot;</span><span class="p">,</span> <span class="s2">&quot;hotpink&quot;</span><span class="p">,</span> <span class="s2">&quot;indianred&quot;</span><span class="p">,</span> <span class="s2">&quot;indigo&quot;</span><span class="p">,</span>
</span><span id="1-9">                 <span class="s2">&quot;ivory&quot;</span><span class="p">,</span> <span class="s2">&quot;khaki&quot;</span><span class="p">,</span> <span class="s2">&quot;lavender&quot;</span><span class="p">,</span> <span class="s2">&quot;lavenderblush&quot;</span><span class="p">,</span> <span class="s2">&quot;lawngreen&quot;</span><span class="p">,</span> <span class="s2">&quot;lemonchiffon&quot;</span><span class="p">,</span> <span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="s2">&quot;lightcoral&quot;</span><span class="p">,</span>
</span><span id="1-10">                 <span class="s2">&quot;lightcyan&quot;</span><span class="p">,</span> <span class="s2">&quot;lightgoldenrodyellow&quot;</span><span class="p">,</span> <span class="s2">&quot;lightgray&quot;</span><span class="p">,</span> <span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span> <span class="s2">&quot;lightgreen&quot;</span><span class="p">,</span> <span class="s2">&quot;lightpink&quot;</span><span class="p">,</span>
</span><span id="1-11">                 <span class="s2">&quot;lightsalmon&quot;</span><span class="p">,</span> <span class="s2">&quot;lightseagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;lightskyblue&quot;</span><span class="p">,</span> <span class="s2">&quot;lightslategray&quot;</span><span class="p">,</span> <span class="s2">&quot;lightslategrey&quot;</span><span class="p">,</span> <span class="s2">&quot;lightsteelblue&quot;</span><span class="p">,</span>
</span><span id="1-12">                 <span class="s2">&quot;lightyellow&quot;</span><span class="p">,</span> <span class="s2">&quot;lime&quot;</span><span class="p">,</span> <span class="s2">&quot;limegreen&quot;</span><span class="p">,</span> <span class="s2">&quot;linen&quot;</span><span class="p">,</span> <span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="s2">&quot;maroon&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumaquamarine&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumblue&quot;</span><span class="p">,</span>
</span><span id="1-13">                 <span class="s2">&quot;mediumorchid&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumpurple&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumseagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumslateblue&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumspringgreen&quot;</span><span class="p">,</span>
</span><span id="1-14">                 <span class="s2">&quot;mediumturquoise&quot;</span><span class="p">,</span> <span class="s2">&quot;mediumvioletred&quot;</span><span class="p">,</span> <span class="s2">&quot;midnightblue&quot;</span><span class="p">,</span> <span class="s2">&quot;mintcream&quot;</span><span class="p">,</span> <span class="s2">&quot;mistyrose&quot;</span><span class="p">,</span> <span class="s2">&quot;moccasin&quot;</span><span class="p">,</span>
</span><span id="1-15">                 <span class="s2">&quot;navajowhite&quot;</span><span class="p">,</span> <span class="s2">&quot;navy&quot;</span><span class="p">,</span> <span class="s2">&quot;oldlace&quot;</span><span class="p">,</span> <span class="s2">&quot;olive&quot;</span><span class="p">,</span> <span class="s2">&quot;olivedrab&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;orangered&quot;</span><span class="p">,</span> <span class="s2">&quot;orchid&quot;</span><span class="p">,</span>
</span><span id="1-16">                 <span class="s2">&quot;palegoldenrod&quot;</span><span class="p">,</span> <span class="s2">&quot;palegreen&quot;</span><span class="p">,</span> <span class="s2">&quot;paleturquoise&quot;</span><span class="p">,</span> <span class="s2">&quot;palevioletred&quot;</span><span class="p">,</span> <span class="s2">&quot;papayawhip&quot;</span><span class="p">,</span> <span class="s2">&quot;peachpuff&quot;</span><span class="p">,</span> <span class="s2">&quot;peru&quot;</span><span class="p">,</span>
</span><span id="1-17">                 <span class="s2">&quot;pink&quot;</span><span class="p">,</span> <span class="s2">&quot;plum&quot;</span><span class="p">,</span> <span class="s2">&quot;powderblue&quot;</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;rosybrown&quot;</span><span class="p">,</span> <span class="s2">&quot;royalblue&quot;</span><span class="p">,</span> <span class="s2">&quot;rebeccapurple&quot;</span><span class="p">,</span>
</span><span id="1-18">                 <span class="s2">&quot;saddlebrown&quot;</span><span class="p">,</span> <span class="s2">&quot;salmon&quot;</span><span class="p">,</span> <span class="s2">&quot;sandybrown&quot;</span><span class="p">,</span> <span class="s2">&quot;seagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;seashell&quot;</span><span class="p">,</span> <span class="s2">&quot;sienna&quot;</span><span class="p">,</span> <span class="s2">&quot;silver&quot;</span><span class="p">,</span> <span class="s2">&quot;skyblue&quot;</span><span class="p">,</span>
</span><span id="1-19">                 <span class="s2">&quot;slateblue&quot;</span><span class="p">,</span> <span class="s2">&quot;slategray&quot;</span><span class="p">,</span> <span class="s2">&quot;slategrey&quot;</span><span class="p">,</span> <span class="s2">&quot;snow&quot;</span><span class="p">,</span> <span class="s2">&quot;springgreen&quot;</span><span class="p">,</span> <span class="s2">&quot;steelblue&quot;</span><span class="p">,</span> <span class="s2">&quot;tan&quot;</span><span class="p">,</span> <span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="s2">&quot;thistle&quot;</span><span class="p">,</span>
</span><span id="1-20">                 <span class="s2">&quot;tomato&quot;</span><span class="p">,</span> <span class="s2">&quot;turquoise&quot;</span><span class="p">,</span> <span class="s2">&quot;violet&quot;</span><span class="p">,</span> <span class="s2">&quot;wheat&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="s2">&quot;whitesmoke&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;yellowgreen&quot;</span><span class="p">]</span>
</span></pre></div>
</div>
</section>
<section id="module-handlers.plotting">
<span id="module-info"></span><h2>Module Info<a class="headerlink" href="#module-handlers.plotting" title="Link to this heading">¶</a></h2>
<p>This is the plotting module.</p>
<p><strong>Functions:</strong></p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.set_color" title="handlers.plotting.set_color"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_color</span></code></a>()</p></td>
<td><p>Choose a random color from plotly colors.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.set_subplots" title="handlers.plotting.set_subplots"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_subplots</span></code></a>(extra_rows[, ...])</p></td>
<td><p>Define rows and columns for subplots in plotting engine.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.set_candles" title="handlers.plotting.set_candles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_candles</span></code></a>(df[, x_labels])</p></td>
<td><p>Put candles and axis into a tuple.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.set_volume_series" title="handlers.plotting.set_volume_series"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_volume_series</span></code></a>(df[, win, green_color, ...])</p></td>
<td><p>Sets or unsets volume histogram.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.set_ta_scatter" title="handlers.plotting.set_ta_scatter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ta_scatter</span></code></a>(df, serie[, annotations, ...])</p></td>
<td><p>Plot a scatter plot for an indicator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.set_ta_line" title="handlers.plotting.set_ta_line"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_ta_line</span></code></a>(df_index, serie[, color, name, ...])</p></td>
<td><p>Plot a line plot for an indicator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.fill_missing" title="handlers.plotting.fill_missing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_missing</span></code></a>(data_list, expected_length)</p></td>
<td><p>Fills until expected length iterating with the existing values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.set_arrows" title="handlers.plotting.set_arrows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_arrows</span></code></a>(annotations[, name, tag, ...])</p></td>
<td><p>Sets arrows.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.add_traces" title="handlers.plotting.add_traces"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_traces</span></code></a>(fig, list_of_plots, rows, cols)</p></td>
<td><p>Put traces into the figure.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.set_layout_format" title="handlers.plotting.set_layout_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_layout_format</span></code></a>(fig, axis_q, title, ...)</p></td>
<td><p>It updates layout of the set plot.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.update_names" title="handlers.plotting.update_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_names</span></code></a>(fig, names)</p></td>
<td><p>Update legend names.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.deploy_traces" title="handlers.plotting.deploy_traces"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deploy_traces</span></code></a>(annotations, colors, markers, ...)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param annotations<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.generate_vertical_shapes" title="handlers.plotting.generate_vertical_shapes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_vertical_shapes</span></code></a>(timestamps, y0, y1)</p></td>
<td><p>Generate vertical shapes for plotting.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.candles_ta" title="handlers.plotting.candles_ta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">candles_ta</span></code></a>(data[, indicators_series, ...])</p></td>
<td><p>Data needs to be a DataFrame that at least contains the columns: Open Close High Low Volume</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.candles_tagged" title="handlers.plotting.candles_tagged"><code class="xref py py-obj docutils literal notranslate"><span class="pre">candles_tagged</span></code></a>(data[, width, height, ...])</p></td>
<td><p>This is a shortcut from candles_ta.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.plot_trades" title="handlers.plotting.plot_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_trades</span></code></a>(data[, max_size, height, ...])</p></td>
<td><p>Plots scatter plot from trades quantity and trades sizes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.plot_pie" title="handlers.plotting.plot_pie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_pie</span></code></a>(serie[, categories, title, logarithmic])</p></td>
<td><p>Plots a pie chart from a column.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.plot_scatter" title="handlers.plotting.plot_scatter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_scatter</span></code></a>(df, x_col, y_col[, symbol, ...])</p></td>
<td><p>Plot scatter plots with a column of values in X axis and other in Y axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.plot_hists_vs" title="handlers.plotting.plot_hists_vs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_hists_vs</span></code></a>(x0, x1[, x0_name, x1_name, ...])</p></td>
<td><p>Plots two histograms with same x scale to campare distributions of values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.orderbook_depth" title="handlers.plotting.orderbook_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orderbook_depth</span></code></a>(df[, accumulated, title, ...])</p></td>
<td><p>Plots orderbook from a BinPan orderbook dataframe.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.dist_plot" title="handlers.plotting.dist_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dist_plot</span></code></a>(df[, x_col, color, bins, ...])</p></td>
<td><p>Plot a distribution plot for a dataframe column.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.bar_plot" title="handlers.plotting.bar_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bar_plot</span></code></a>(df, x_col_to_bars, y_col[, ...])</p></td>
<td><p>Plot a bar plot for a dataframe column with optional segments based on the 'bar_segments' column.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.profile_plot" title="handlers.plotting.profile_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">profile_plot</span></code></a>(serie[, title, x_axis_title, ...])</p></td>
<td><p>This function generates a horizontal bar chart from a pandas series.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.plot_orderbook_value" title="handlers.plotting.plot_orderbook_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_orderbook_value</span></code></a>(ask_data, bid_data, ...)</p></td>
<td><p>Plots orderbook levels quantities.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.normalize" title="handlers.plotting.normalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize</span></code></a>(max_value, min_value, data)</p></td>
<td><p>Normalize data from minimum as 0 to maximum as 1.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.plotting.find_step_for_bins" title="handlers.plotting.find_step_for_bins"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_step_for_bins</span></code></a>(data, master_column[, ...])</p></td>
<td><p>Find precision for getting a target number of bins intervals for values in master column.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.plotting.group_slot" title="handlers.plotting.group_slot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">group_slot</span></code></a>(data, master_column[, bins])</p></td>
<td><p>Get what vertical slot size results for a number of bins.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_color">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_color</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_color" title="Link to this definition">¶</a></dt>
<dd><p>Choose a random color from plotly colors.
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_subplots">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_subplots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candles_ta_height_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_subplots" title="Link to this definition">¶</a></dt>
<dd><p>Define rows and columns for subplots in plotting engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extra_rows</strong> (<em>int</em>) – </p></li>
<li><p><strong>candles_ta_height_ratio</strong> (<em>float</em>) – </p></li>
<li><p><strong>vertical_spacing</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_candles">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_candles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#handlers.plotting.set_candles" title="Link to this definition">¶</a></dt>
<dd><p>Put candles and axis into a tuple.
:param pd.DataFrame df: Dataframe OHLC type.
:param list x_labels: Labels to replace in x axis plotting.
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_volume_series">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_volume_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">21</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">green_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rgba(70,</span> <span class="pre">197,</span> <span class="pre">74,</span> <span class="pre">1)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">red_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rgba(197,</span> <span class="pre">79,</span> <span class="pre">70,</span> <span class="pre">1)'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#handlers.plotting.set_volume_series" title="Link to this definition">¶</a></dt>
<dd><p>Sets or unsets volume histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A binpan’s dataframe.</p></li>
<li><p><strong>win</strong> – Window for volume average line.</p></li>
<li><p><strong>green_color</strong> (<em>str</em>) – An rgba color string like: ‘rgba(144,194,178,255)’</p></li>
<li><p><strong>red_color</strong> – An rgba color string like: ‘rgba(242,149,149,255)’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple with several figures.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_ta_scatter">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_ta_scatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serie</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Indicator'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bottom</span> <span class="pre">center'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_ta_scatter" title="Link to this definition">¶</a></dt>
<dd><p>Plot a scatter plot for an indicator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A binpan’s dataframe just for the index.</p></li>
<li><p><strong>serie</strong> (<em>pd.Series</em>) – data to plot.</p></li>
<li><p><strong>annotations</strong> (<em>list</em>) – Text for annotations over the plotted data.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – A plotly color.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name for the plot.</p></li>
<li><p><strong>text_position</strong> (<em>str</em>) – A position from plotly documented annotation positions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_ta_line">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_ta_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_index:</span> <span class="pre">&lt;pandas._libs.properties.AxisProperty</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x000002B236A1E7A0&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serie:</span> <span class="pre">~pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color='blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name='Indicator'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_color:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_mode:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaxis:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend=True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_ta_line" title="Link to this definition">¶</a></dt>
<dd><p>Plot a line plot for an indicator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_index</strong> (<em>pd.DataFrame.index</em>) – A binpan’s dataframe just for the index.</p></li>
<li><p><strong>serie</strong> (<em>pd.Series</em>) – data to plot.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – A plotly color.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name for the plot.</p></li>
<li><p><strong>line_width</strong> (<em>float</em>) – Line width size.</p></li>
<li><p><strong>fill_color</strong> (<em>str</em><em> or </em><em>None</em>) – Color to fill areas in the plot.</p></li>
<li><p><strong>fill_mode</strong> (<em>str</em>) – Mode to fill for, like to x axis or to next plot, etc.</p></li>
<li><p><strong>yaxis</strong> (<em>str</em>) – Axis name for plotting.</p></li>
<li><p><strong>show_legend</strong> (<em>bool</em>) – Shows it or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.fill_missing">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">fill_missing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.fill_missing" title="Link to this definition">¶</a></dt>
<dd><p>Fills until expected length iterating with the existing values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_list</strong> (<em>list</em>) – </p></li>
<li><p><strong>expected_length</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filled list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_arrows">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_arrows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">textposition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'top</span> <span class="pre">center'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'markers+text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'arrow-bar-down'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'orange'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_line_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_arrows" title="Link to this definition">¶</a></dt>
<dd><p>Sets arrows.</p>
<p>Style info at <a class="reference external" href="https://plotly.com/python/marker-style/">https://plotly.com/python/marker-style/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.add_traces">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">add_traces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_plots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.add_traces" title="Link to this definition">¶</a></dt>
<dd><p>Put traces into the figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – Figure to set.</p></li>
<li><p><strong>list_of_plots</strong> – Plot objects to insert into the figure.</p></li>
<li><p><strong>rows</strong> (<em>list</em>) – A list with row positions each plot.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – A list with column positions each plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Set figure.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.set_layout_format">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">set_layout_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_q</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaxis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_slider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.set_layout_format" title="Link to this definition">¶</a></dt>
<dd><p>It updates layout of the set plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – Figure object.</p></li>
<li><p><strong>axis_q</strong> (<em>int</em>) – Y axis count.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title for the layout.</p></li>
<li><p><strong>yaxis_title</strong> (<em>str</em>) – Y axis title.</p></li>
<li><p><strong>width</strong> (<em>int</em>) – Layout size.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Layout height.</p></li>
<li><p><strong>range_slider</strong> (<em>bool</em>) – enabled or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.update_names">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">update_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.update_names" title="Link to this definition">¶</a></dt>
<dd><p>Update legend names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – Figure object.</p></li>
<li><p><strong>names</strong> – dict of names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated figure.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.deploy_traces">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">deploy_traces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mark_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#handlers.plotting.deploy_traces" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotations</strong> – </p></li>
<li><p><strong>colors</strong> – </p></li>
<li><p><strong>markers</strong> – </p></li>
<li><p><strong>text_positions</strong> – </p></li>
<li><p><strong>mark_names</strong> – </p></li>
<li><p><strong>tags</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.generate_vertical_shapes">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">generate_vertical_shapes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.generate_vertical_shapes" title="Link to this definition">¶</a></dt>
<dd><p>Generate vertical shapes for plotting. Vertical lines for candles plot.
:param timestamps: A list of timestamps to plot vertical lines.
:param y0: A y0 value.
:param y1: A y1 value.
:param color: A color string.
:param width: A width value.
:param yref: A yref value to define subplot by identification of its y axis.
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.candles_ta">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">candles_ta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicators_series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicator_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicators_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicators_color_filled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicators_filled_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_splitted_serie_couple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_slider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">red_timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blue_timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candles_ta_height_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Candlesticks,</span> <span class="pre">indicators,</span> <span class="pre">and</span> <span class="pre">Volume</span> <span class="pre">plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaxis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Symbol</span> <span class="pre">Price'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_legend_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_bgcolor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_up_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_down_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.candles_ta" title="Link to this definition">¶</a></dt>
<dd><p>Data needs to be a DataFrame that at least contains the columns: Open Close High Low Volume</p>
<p>It plots candles and optionally volume, but can plot any list of pandas series with indicators (float values) with same index.</p>
<p>Indicators will be plotted below the candles in subplots according to a row position number, counting 1 as overlay in the candles
subplot and the rest in row subplots. Several indicators can be plotted in the same row to overlay between them and compare.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Beware of zeros or values in a different scale when plotting overlapped over candles, that can break the scale of the graph.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – a DataFrame that at least contains the columns: Open Close High Low Volume</p></li>
<li><p><strong>indicators_series</strong> (<em>list</em><em> or </em><em>pd.DataFrame</em>) – a list of pandas series with float values as indicators.</p></li>
<li><p><strong>rows_pos</strong> (<em>list</em>) – 1 means over the candles. Other numbers mean subsequent subplots under the candles.</p></li>
<li><p><strong>indicator_names</strong> (<em>list</em>) – Names to show in the plot. Defaults to series name.</p></li>
<li><p><strong>indicators_colors</strong> (<em>list</em>) – <p>Color can be forced to anyone from the plotly colors list.</p>
<p><a class="reference external" href="https://community.plotly.com/t/plotly-colours-list/11730">https://community.plotly.com/t/plotly-colours-list/11730</a></p>
</p></li>
<li><p><strong>indicators_color_filled</strong> (<em>list</em><em> or </em><em>dict</em>) – Color can be forced to fill to zero line. Is a list of Nones for each indicator in
indicator list or a fillcolor. For transparent colors use rgba string code to define color. Example for transparent green
‘rgba(26,150,65,0.5)’ or transparent red ‘rgba(204,0,0,0.5)’. It can be a dictionary with each indicator column name and fill color.</p></li>
<li><p><strong>indicators_filled_mode</strong> (<em>dict</em>) – A dict with filled areas for plotting.</p></li>
<li><p><strong>axis_groups</strong> (<em>dict</em>) – A dict with named groups for indicators, useful for plotting filled areas using tonexty fill mode.</p></li>
<li><p><strong>plot_splitted_serie_couple</strong> (<em>dict</em>) – A dict with splitted data for multiple colours when filling areas using tonexty.</p></li>
<li><p><strong>width</strong> (<em>int</em>) – Plot sizing</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing</p></li>
<li><p><strong>range_slider</strong> (<em>bool</em>) – For the volume plot.</p></li>
<li><p><strong>red_timestamps</strong> (<em>list</em>) – A list of timestamps to plot vertical lines overlap in red color.</p></li>
<li><p><strong>blue_timestamps</strong> (<em>list</em>) – A list of timestamps to plot vertical lines overlap in blue color.</p></li>
<li><p><strong>candles_ta_height_ratio</strong> (<em>float</em>) – A ratio between the big candles plot and (if any) the rest of indicator subplots below.</p></li>
<li><p><strong>plot_volume</strong> (<em>bool</em><em> or </em><em>str</em>) – Optional to plot volume from “Volume” column or pass volume column name.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string.</p></li>
<li><p><strong>yaxis_title</strong> (<em>str</em>) – A name string.</p></li>
<li><p><strong>annotation_values</strong> (<em>list</em>) – A list of pandas series with values to plot marks or annotations overlapped in the candles plot.</p></li>
<li><p><strong>markers</strong> (<em>list</em>) – <p>Ordered like the annotations list.
Example</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">markers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;arrow-bar-down&quot;</span><span class="p">,</span> <span class="s2">&quot;arrow-bar-up&quot;</span><span class="p">,</span> <span class="s2">&quot;arrow-bar-left&quot;</span><span class="p">,</span> <span class="s2">&quot;arrow-bar-right&quot;</span><span class="p">]</span>
</span></pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>text_positions</strong> (<em>list</em>) – <p>Ordered like the annotations list.
Example</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">text_positions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;top center&quot;</span><span class="p">,</span> <span class="s2">&quot;middle left&quot;</span><span class="p">,</span> <span class="s2">&quot;top center&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom center&quot;</span><span class="p">,</span> <span class="s2">&quot;top right&quot;</span><span class="p">,</span> <span class="s2">&quot;middle left&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom right&quot;</span><span class="p">,</span>
</span><span id="1-2"> <span class="s2">&quot;bottom left&quot;</span><span class="p">,</span> <span class="s2">&quot;top right&quot;</span><span class="p">,</span> <span class="s2">&quot;top right&quot;</span><span class="p">]</span>
</span></pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>annotation_colors</strong> (<em>list</em>) – <p>Ordered like the annotations list.
Example from default colors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">annotation_colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;lightseagreen&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="s1">&#39;rosybrown&#39;</span><span class="p">,</span> <span class="s1">&#39;lightseagreen&#39;</span><span class="p">,</span>
</span><span id="1-2"> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;pink&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;rosybrown&#39;</span><span class="p">,</span> <span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;lightseagreen&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span>
</span><span id="1-3"> <span class="s1">&#39;cornflowerblue&#39;</span><span class="p">,</span> <span class="s1">&#39;rosybrown&#39;</span><span class="p">,</span> <span class="s1">&#39;lightseagreen&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;pink&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;rosybrown&#39;</span><span class="p">]</span>
</span></pre></div>
</div>
</p></li>
<li><p><strong>annotation_legend_names</strong> (<em>list</em>) – Ordered like the annotations list of names to show in legend.</p></li>
<li><p><strong>labels</strong> (<em>list</em>) – <p>Ordered like the annotations list of tags to plot overlapped. It defaults to price value if omitted.
Example:
.. code-block:: python</p>
<blockquote>
<div><p>labels = [‘buy’, ‘sell’]</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<p>Plot example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">ethbtc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;ethbtc&#39;</span><span class="p">,</span> <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;1h&#39;</span><span class="p">)</span>
</span><span id="1-4">
</span><span id="1-5"><span class="n">ethbtc</span><span class="o">.</span><span class="n">macd</span><span class="p">(</span><span class="n">fast</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">slow</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
</span><span id="1-6"><span class="nb">print</span><span class="p">(</span><span class="n">ethbtc</span><span class="o">.</span><span class="n">df</span><span class="p">)</span>
</span><span id="1-7">
</span><span id="1-8"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">candles_ta</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">ethbtc</span><span class="o">.</span><span class="n">df</span><span class="p">,</span>
</span><span id="1-9">                                    <span class="n">indicators_series</span><span class="o">=</span><span class="p">[</span><span class="n">ethbtc</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MACD_12_26_9&#39;</span><span class="p">],</span>
</span><span id="1-10">                                                       <span class="n">ethbtc</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MACDh_12_26_9&#39;</span><span class="p">],</span>
</span><span id="1-11">                                                       <span class="n">ethbtc</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MACDs_12_26_9&#39;</span><span class="p">]],</span>
</span><span id="1-12">                                    <span class="n">indicators_color_filled</span><span class="o">=</span><span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;rgba(26,150,65,0.5)&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
</span><span id="1-13">                                    <span class="n">rows_pos</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
</span><span id="1-14">                                    <span class="n">indicators_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;skyblue&#39;</span><span class="p">])</span>
</span></pre></div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/candles_ta_macd.png"><img alt="_images/candles_ta_macd.png" src="_images/candles_ta_macd.png" style="width: 1000px;" /></a>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot_bgcolor</strong> – Set background color.</p></li>
<li><p><strong>vol_up_color</strong> (<em>str</em>) – Color for down volume bars. An rgba color string like: rgba(144,194,178,255) or ‘rgba(38, 171, 40,
100)’ for more opacity.</p></li>
<li><p><strong>vol_down_color</strong> (<em>str</em>) – Color for down volume bars. An rgba color string like: ‘rgba(242,149,149,255)’ or ‘rgba(233, 56, 18,
100)’ for more opacity.</p></li>
<li><p><strong>text_index</strong> (<em>bool</em>) – If enables, index will be transformed to a text index. It can be useful to plot candles not time correlated
like reversal candles.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.candles_tagged">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">candles_tagged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candles_ta_height_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Candlesticks</span> <span class="pre">Strategy</span> <span class="pre">Plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaxis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Symbol</span> <span class="pre">Price'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_candles_indicator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">red_timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blue_timestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicator_series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicator_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicator_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_control</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicators_filled_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_splitted_serie_couple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_bgcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priced_actions_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Close'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_legend_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.candles_tagged" title="Link to this definition">¶</a></dt>
<dd><p>This is a shortcut from candles_ta. It defaults many inputs to better Jupyter Notebook usage.</p>
<p>Data needs to be a DataFrame that at least contains the columns: Open Close High Low Volume</p>
<p>It plots candles and optionally volume, but can plot any list of pandas series with indicators (float values) with same index.</p>
<p>Indicators will be plotted below the candles in subplots according to a row position number, counting 1 as overlay in the candles
subplot and the rest in row subplots. Several indicators can be plotted in the same row to overlay between them and compare.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Beware of zeros or values in a different scale when plotting overlapped over candles, that can break the scale of the graph.</p>
</div>
<p>Plot example:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/plot_tagged.png"><img alt="_images/plot_tagged.png" src="_images/plot_tagged.png" style="width: 1000px;" /></a>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – a DataFrame that at least contains the columns: Open Close High Low Volume</p></li>
<li><p><strong>width</strong> (<em>int</em>) – Plot sizing</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing</p></li>
<li><p><strong>candles_ta_height_ratio</strong> (<em>float</em>) – A ratio between the big candles plot and (if any) the rest of indicator subplots below.</p></li>
<li><p><strong>plot_volume</strong> (<em>bool</em>) – Optional to plot volume.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string.</p></li>
<li><p><strong>yaxis_title</strong> (<em>str</em>) – A name string.</p></li>
<li><p><strong>on_candles_indicator</strong> – A list of pandas series with values to plot overlapping candles, not in a subplot. Example: SMA.</p></li>
<li><p><strong>red_timestamps</strong> (<em>list</em>) – A list of timestamps to plot vertical lines overlap in red color.</p></li>
<li><p><strong>blue_timestamps</strong> (<em>list</em>) – A list of timestamps to plot vertical lines overlap in blue color.</p></li>
<li><p><strong>indicator_series</strong> (<em>list</em>) – a list of pandas series with float values as indicators. Usually not overlap with candles indicators.
But to plot in a subplot.</p></li>
<li><p><strong>indicator_names</strong> (<em>list</em>) – Names to show in the plot. Defaults to series name.</p></li>
<li><p><strong>indicator_colors</strong> (<em>list</em>) – <p>Color can be forced to anyone from the plotly colors list:</p>
<p><a class="reference external" href="https://community.plotly.com/t/plotly-colours-list/11730">https://community.plotly.com/t/plotly-colours-list/11730</a></p>
</p></li>
<li><p><strong>fill_control</strong> (<em>dict</em><em> or </em><em>list</em>) – A dictionary with color to fill or False bool for each indicator. Is the color to the zero line for
the indicator plot. If a list passed, it iterates to assign each item in the list with the same index item in the indicators list.</p></li>
<li><p><strong>indicators_filled_mode</strong> (<em>dict</em>) – A dict with filled areas for plotting.</p></li>
<li><p><strong>axis_groups</strong> (<em>dict</em>) – A dict with named groups for indicators, useful for plotting filled areas using tonexty fill mode.</p></li>
<li><p><strong>plot_splitted_serie_couple</strong> (<em>dict</em>) – A dict with splitted data for multiple colours when filling areas using tonexty.</p></li>
<li><p><strong>rows_pos</strong> (<em>list</em>) – 1 means over the candles. Other numbers mean subsequent subplots under the candles.</p></li>
<li><p><strong>plot_bgcolor</strong> – Set background color.</p></li>
<li><p><strong>actions_col</strong> – A column name of the column with string tags like buy, sell, etc. This is for plotting annotation marks
overlapped over candles. It is <em>mandatory</em> for managing markers, annotations and legend names of annotations.</p></li>
<li><p><strong>priced_actions_col</strong> – <p>The name of the column containing value of action to position over candles.
Used just if actions column passed.</p>
<blockquote>
<div><p>Example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2"><span class="kn">from</span> <span class="nn">handlers.strategies</span> <span class="kn">import</span> <span class="n">random_strategy</span>
</span><span id="1-3">
</span><span id="1-4"><span class="n">bt</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;btcusdt&#39;</span><span class="p">,</span>
</span><span id="1-5">                 <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;15m&#39;</span><span class="p">,</span>
</span><span id="1-6">                 <span class="n">time_zone</span><span class="o">=</span><span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                 <span class="n">end_time</span><span class="o">=</span><span class="s1">&#39;2021-10-31 03:00:00&#39;</span><span class="p">)</span>
</span><span id="1-8">
</span><span id="1-9"><span class="n">bt</span><span class="o">.</span><span class="n">sma</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
</span><span id="1-10">
</span><span id="1-11"><span class="n">df</span> <span class="o">=</span> <span class="n">handlers</span><span class="o">.</span><span class="n">strategies</span><span class="o">.</span><span class="n">random_strategy</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">bt</span><span class="o">.</span><span class="n">df</span><span class="p">,</span> <span class="n">buys_qty</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sells_qty</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</span><span id="1-12">
</span><span id="1-13"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</span><span id="1-14">
</span><span id="1-15">    <span class="o">-</span><span class="mf">1.0</span>    <span class="mi">12</span>
</span><span id="1-16">     <span class="mf">1.0</span>    <span class="mi">10</span>
</span><span id="1-17">    <span class="n">Name</span><span class="p">:</span> <span class="n">actions</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</span><span id="1-18">
</span><span id="1-19"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">candles_tagged</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
</span><span id="1-20">                                        <span class="n">plot_volume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="1-21">                                        <span class="n">on_candles_indicator</span><span class="o">=</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">SMA_21</span><span class="p">],</span>
</span><span id="1-22">                                        <span class="n">candles_ta_height_ratio</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
</span><span id="1-23">                                        <span class="n">actions_col</span><span class="o">=</span><span class="s1">&#39;actions&#39;</span><span class="p">,</span>
</span><span id="1-24">                                        <span class="n">markers_labels</span><span class="o">=</span><span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sell&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;buy&#39;</span><span class="p">},</span>
</span><span id="1-25">                                        <span class="n">marker_colors</span><span class="o">=</span><span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">})</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/random_strategy_plot.png"><img alt="_images/random_strategy_plot.png" src="_images/random_strategy_plot.png" style="width: 1000px;" /></a>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>markers_labels</strong> (<em>dict</em>) – <p>Annotations of tags to show overlapped. Keys are the shown tags in the plot and values are the
dataframe values to consider what marker and color used. Position of label defaults to close price. This feature is enabled just
if actions column passed.</p>
<blockquote>
<div><p>Example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">markers_labels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;buy&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;sell&#39;</span><span class="p">}</span>
</span></pre></div>
</div>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>markers</strong> (<em>dict</em>) – <p>Plotly marker type for each label. Usually, if referenced by number will be a not filled mark and using
string name will be a color filled one. Used just if actions column passed. Check plotly info: <a class="reference external" href="https://plotly.com/python/marker-style/">https://plotly.com/python/marker-style/</a></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">markers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s2">&quot;arrow-bar-up&quot;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">:</span> <span class="s2">&quot;arrow-bar-down&quot;</span><span class="p">}</span>
</span><span id="1-2">
</span><span id="1-3"><span class="c1"># for marker integer codes see:</span>
</span><span id="1-4">
</span><span id="1-5"><span class="n">plotly_markers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="s1">&#39;circle-open&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;200&#39;</span><span class="p">,</span>
</span><span id="1-6">        <span class="s1">&#39;circle-dot&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span> <span class="s1">&#39;circle-open-dot&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
</span><span id="1-7">        <span class="s1">&#39;square&#39;</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="s1">&#39;square-open&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="s1">&#39;201&#39;</span><span class="p">,</span>
</span><span id="1-8">        <span class="s1">&#39;square-dot&#39;</span><span class="p">,</span> <span class="mi">301</span><span class="p">,</span> <span class="s1">&#39;301&#39;</span><span class="p">,</span> <span class="s1">&#39;square-open-dot&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span>
</span><span id="1-9">        <span class="s1">&#39;diamond&#39;</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-open&#39;</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="s1">&#39;202&#39;</span><span class="p">,</span>
</span><span id="1-10">        <span class="s1">&#39;diamond-dot&#39;</span><span class="p">,</span> <span class="mi">302</span><span class="p">,</span> <span class="s1">&#39;302&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-open-dot&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span>
</span><span id="1-11">        <span class="s1">&#39;cross&#39;</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">,</span> <span class="s1">&#39;cross-open&#39;</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="s1">&#39;203&#39;</span><span class="p">,</span>
</span><span id="1-12">        <span class="s1">&#39;cross-dot&#39;</span><span class="p">,</span> <span class="mi">303</span><span class="p">,</span> <span class="s1">&#39;303&#39;</span><span class="p">,</span> <span class="s1">&#39;cross-open-dot&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
</span><span id="1-13">        <span class="mi">104</span><span class="p">,</span> <span class="s1">&#39;104&#39;</span><span class="p">,</span> <span class="s1">&#39;x-open&#39;</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="s1">&#39;204&#39;</span><span class="p">,</span> <span class="s1">&#39;x-dot&#39;</span><span class="p">,</span> <span class="mi">304</span><span class="p">,</span> <span class="s1">&#39;304&#39;</span><span class="p">,</span>
</span><span id="1-14">        <span class="s1">&#39;x-open-dot&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-up&#39;</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="s1">&#39;105&#39;</span><span class="p">,</span>
</span><span id="1-15">        <span class="s1">&#39;triangle-up-open&#39;</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="s1">&#39;205&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-up-dot&#39;</span><span class="p">,</span> <span class="mi">305</span><span class="p">,</span>
</span><span id="1-16">        <span class="s1">&#39;305&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-up-open-dot&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-down&#39;</span><span class="p">,</span>
</span><span id="1-17">        <span class="mi">106</span><span class="p">,</span> <span class="s1">&#39;106&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-down-open&#39;</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="s1">&#39;206&#39;</span><span class="p">,</span>
</span><span id="1-18">        <span class="s1">&#39;triangle-down-dot&#39;</span><span class="p">,</span> <span class="mi">306</span><span class="p">,</span> <span class="s1">&#39;306&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-down-open-dot&#39;</span><span class="p">,</span>
</span><span id="1-19">        <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-left&#39;</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="s1">&#39;107&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-left-open&#39;</span><span class="p">,</span>
</span><span id="1-20">        <span class="mi">207</span><span class="p">,</span> <span class="s1">&#39;207&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-left-dot&#39;</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="s1">&#39;307&#39;</span><span class="p">,</span>
</span><span id="1-21">        <span class="s1">&#39;triangle-left-open-dot&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-right&#39;</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span>
</span><span id="1-22">        <span class="s1">&#39;108&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-right-open&#39;</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="s1">&#39;208&#39;</span><span class="p">,</span>
</span><span id="1-23">        <span class="s1">&#39;triangle-right-dot&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="s1">&#39;308&#39;</span><span class="p">,</span>
</span><span id="1-24">        <span class="s1">&#39;triangle-right-open-dot&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-ne&#39;</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span>
</span><span id="1-25">        <span class="s1">&#39;109&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-ne-open&#39;</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="s1">&#39;209&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-ne-dot&#39;</span><span class="p">,</span>
</span><span id="1-26">        <span class="mi">309</span><span class="p">,</span> <span class="s1">&#39;309&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-ne-open-dot&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span>
</span><span id="1-27">        <span class="s1">&#39;triangle-se&#39;</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="s1">&#39;110&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-se-open&#39;</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="s1">&#39;210&#39;</span><span class="p">,</span>
</span><span id="1-28">        <span class="s1">&#39;triangle-se-dot&#39;</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="s1">&#39;310&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-se-open-dot&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span>
</span><span id="1-29">        <span class="s1">&#39;11&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-sw&#39;</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-sw-open&#39;</span><span class="p">,</span> <span class="mi">211</span><span class="p">,</span>
</span><span id="1-30">        <span class="s1">&#39;211&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-sw-dot&#39;</span><span class="p">,</span> <span class="mi">311</span><span class="p">,</span> <span class="s1">&#39;311&#39;</span><span class="p">,</span>
</span><span id="1-31">        <span class="s1">&#39;triangle-sw-open-dot&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-nw&#39;</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span>
</span><span id="1-32">        <span class="s1">&#39;112&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-nw-open&#39;</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span> <span class="s1">&#39;212&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-nw-dot&#39;</span><span class="p">,</span>
</span><span id="1-33">        <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;312&#39;</span><span class="p">,</span> <span class="s1">&#39;triangle-nw-open-dot&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;13&#39;</span><span class="p">,</span> <span class="s1">&#39;pentagon&#39;</span><span class="p">,</span>
</span><span id="1-34">        <span class="mi">113</span><span class="p">,</span> <span class="s1">&#39;113&#39;</span><span class="p">,</span> <span class="s1">&#39;pentagon-open&#39;</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span> <span class="s1">&#39;213&#39;</span><span class="p">,</span> <span class="s1">&#39;pentagon-dot&#39;</span><span class="p">,</span>
</span><span id="1-35">        <span class="mi">313</span><span class="p">,</span> <span class="s1">&#39;313&#39;</span><span class="p">,</span> <span class="s1">&#39;pentagon-open-dot&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;14&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon&#39;</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span>
</span><span id="1-36">        <span class="s1">&#39;114&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon-open&#39;</span><span class="p">,</span> <span class="mi">214</span><span class="p">,</span> <span class="s1">&#39;214&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon-dot&#39;</span><span class="p">,</span> <span class="mi">314</span><span class="p">,</span>
</span><span id="1-37">        <span class="s1">&#39;314&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon-open-dot&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;15&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon2&#39;</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span>
</span><span id="1-38">        <span class="s1">&#39;115&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon2-open&#39;</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="s1">&#39;215&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon2-dot&#39;</span><span class="p">,</span> <span class="mi">315</span><span class="p">,</span>
</span><span id="1-39">        <span class="s1">&#39;315&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagon2-open-dot&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;16&#39;</span><span class="p">,</span> <span class="s1">&#39;octagon&#39;</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span>
</span><span id="1-40">        <span class="s1">&#39;116&#39;</span><span class="p">,</span> <span class="s1">&#39;octagon-open&#39;</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span> <span class="s1">&#39;216&#39;</span><span class="p">,</span> <span class="s1">&#39;octagon-dot&#39;</span><span class="p">,</span> <span class="mi">316</span><span class="p">,</span>
</span><span id="1-41">        <span class="s1">&#39;316&#39;</span><span class="p">,</span> <span class="s1">&#39;octagon-open-dot&#39;</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;17&#39;</span><span class="p">,</span> <span class="s1">&#39;star&#39;</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="s1">&#39;117&#39;</span><span class="p">,</span>
</span><span id="1-42">        <span class="s1">&#39;star-open&#39;</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span> <span class="s1">&#39;217&#39;</span><span class="p">,</span> <span class="s1">&#39;star-dot&#39;</span><span class="p">,</span> <span class="mi">317</span><span class="p">,</span> <span class="s1">&#39;317&#39;</span><span class="p">,</span>
</span><span id="1-43">        <span class="s1">&#39;star-open-dot&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;18&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagram&#39;</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="s1">&#39;118&#39;</span><span class="p">,</span>
</span><span id="1-44">        <span class="s1">&#39;hexagram-open&#39;</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="s1">&#39;218&#39;</span><span class="p">,</span> <span class="s1">&#39;hexagram-dot&#39;</span><span class="p">,</span> <span class="mi">318</span><span class="p">,</span> <span class="s1">&#39;318&#39;</span><span class="p">,</span>
</span><span id="1-45">        <span class="s1">&#39;hexagram-open-dot&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;19&#39;</span><span class="p">,</span> <span class="s1">&#39;star-triangle-up&#39;</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span>
</span><span id="1-46">        <span class="s1">&#39;119&#39;</span><span class="p">,</span> <span class="s1">&#39;star-triangle-up-open&#39;</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="s1">&#39;219&#39;</span><span class="p">,</span>
</span><span id="1-47">        <span class="s1">&#39;star-triangle-up-dot&#39;</span><span class="p">,</span> <span class="mi">319</span><span class="p">,</span> <span class="s1">&#39;319&#39;</span><span class="p">,</span>
</span><span id="1-48">        <span class="s1">&#39;star-triangle-up-open-dot&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;20&#39;</span><span class="p">,</span>
</span><span id="1-49">        <span class="s1">&#39;star-triangle-down&#39;</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="s1">&#39;120&#39;</span><span class="p">,</span>
</span><span id="1-50">        <span class="s1">&#39;star-triangle-down-open&#39;</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="s1">&#39;220&#39;</span><span class="p">,</span>
</span><span id="1-51">        <span class="s1">&#39;star-triangle-down-dot&#39;</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="s1">&#39;320&#39;</span><span class="p">,</span>
</span><span id="1-52">        <span class="s1">&#39;star-triangle-down-open-dot&#39;</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;21&#39;</span><span class="p">,</span> <span class="s1">&#39;star-square&#39;</span><span class="p">,</span>
</span><span id="1-53">        <span class="mi">121</span><span class="p">,</span> <span class="s1">&#39;121&#39;</span><span class="p">,</span> <span class="s1">&#39;star-square-open&#39;</span><span class="p">,</span> <span class="mi">221</span><span class="p">,</span> <span class="s1">&#39;221&#39;</span><span class="p">,</span>
</span><span id="1-54">        <span class="s1">&#39;star-square-dot&#39;</span><span class="p">,</span> <span class="mi">321</span><span class="p">,</span> <span class="s1">&#39;321&#39;</span><span class="p">,</span> <span class="s1">&#39;star-square-open-dot&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span>
</span><span id="1-55">        <span class="s1">&#39;22&#39;</span><span class="p">,</span> <span class="s1">&#39;star-diamond&#39;</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="s1">&#39;122&#39;</span><span class="p">,</span> <span class="s1">&#39;star-diamond-open&#39;</span><span class="p">,</span>
</span><span id="1-56">        <span class="mi">222</span><span class="p">,</span> <span class="s1">&#39;222&#39;</span><span class="p">,</span> <span class="s1">&#39;star-diamond-dot&#39;</span><span class="p">,</span> <span class="mi">322</span><span class="p">,</span> <span class="s1">&#39;322&#39;</span><span class="p">,</span>
</span><span id="1-57">        <span class="s1">&#39;star-diamond-open-dot&#39;</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;23&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-tall&#39;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span>
</span><span id="1-58">        <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-tall-open&#39;</span><span class="p">,</span> <span class="mi">223</span><span class="p">,</span> <span class="s1">&#39;223&#39;</span><span class="p">,</span>
</span><span id="1-59">        <span class="s1">&#39;diamond-tall-dot&#39;</span><span class="p">,</span> <span class="mi">323</span><span class="p">,</span> <span class="s1">&#39;323&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-tall-open-dot&#39;</span><span class="p">,</span>
</span><span id="1-60">        <span class="mi">24</span><span class="p">,</span> <span class="s1">&#39;24&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-wide&#39;</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="s1">&#39;124&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-wide-open&#39;</span><span class="p">,</span>
</span><span id="1-61">        <span class="mi">224</span><span class="p">,</span> <span class="s1">&#39;224&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-wide-dot&#39;</span><span class="p">,</span> <span class="mi">324</span><span class="p">,</span> <span class="s1">&#39;324&#39;</span><span class="p">,</span>
</span><span id="1-62">        <span class="s1">&#39;diamond-wide-open-dot&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;25&#39;</span><span class="p">,</span> <span class="s1">&#39;hourglass&#39;</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span>
</span><span id="1-63">        <span class="s1">&#39;125&#39;</span><span class="p">,</span> <span class="s1">&#39;hourglass-open&#39;</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="s1">&#39;26&#39;</span><span class="p">,</span> <span class="s1">&#39;bowtie&#39;</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="s1">&#39;126&#39;</span><span class="p">,</span>
</span><span id="1-64">        <span class="s1">&#39;bowtie-open&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="s1">&#39;27&#39;</span><span class="p">,</span> <span class="s1">&#39;circle-cross&#39;</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="s1">&#39;127&#39;</span><span class="p">,</span>
</span><span id="1-65">        <span class="s1">&#39;circle-cross-open&#39;</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="s1">&#39;28&#39;</span><span class="p">,</span> <span class="s1">&#39;circle-x&#39;</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="s1">&#39;128&#39;</span><span class="p">,</span>
</span><span id="1-66">        <span class="s1">&#39;circle-x-open&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="s1">&#39;29&#39;</span><span class="p">,</span> <span class="s1">&#39;square-cross&#39;</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="s1">&#39;129&#39;</span><span class="p">,</span>
</span><span id="1-67">        <span class="s1">&#39;square-cross-open&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;30&#39;</span><span class="p">,</span> <span class="s1">&#39;square-x&#39;</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="s1">&#39;130&#39;</span><span class="p">,</span>
</span><span id="1-68">        <span class="s1">&#39;square-x-open&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;31&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-cross&#39;</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span> <span class="s1">&#39;131&#39;</span><span class="p">,</span>
</span><span id="1-69">        <span class="s1">&#39;diamond-cross-open&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="s1">&#39;32&#39;</span><span class="p">,</span> <span class="s1">&#39;diamond-x&#39;</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="s1">&#39;132&#39;</span><span class="p">,</span>
</span><span id="1-70">        <span class="s1">&#39;diamond-x-open&#39;</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="s1">&#39;33&#39;</span><span class="p">,</span> <span class="s1">&#39;cross-thin&#39;</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span> <span class="s1">&#39;133&#39;</span><span class="p">,</span>
</span><span id="1-71">        <span class="s1">&#39;cross-thin-open&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="s1">&#39;34&#39;</span><span class="p">,</span> <span class="s1">&#39;x-thin&#39;</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="s1">&#39;134&#39;</span><span class="p">,</span>
</span><span id="1-72">        <span class="s1">&#39;x-thin-open&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;35&#39;</span><span class="p">,</span> <span class="s1">&#39;asterisk&#39;</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="s1">&#39;135&#39;</span><span class="p">,</span>
</span><span id="1-73">        <span class="s1">&#39;asterisk-open&#39;</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="s1">&#39;36&#39;</span><span class="p">,</span> <span class="s1">&#39;hash&#39;</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="s1">&#39;136&#39;</span><span class="p">,</span>
</span><span id="1-74">        <span class="s1">&#39;hash-open&#39;</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="s1">&#39;236&#39;</span><span class="p">,</span> <span class="s1">&#39;hash-dot&#39;</span><span class="p">,</span> <span class="mi">336</span><span class="p">,</span> <span class="s1">&#39;336&#39;</span><span class="p">,</span>
</span><span id="1-75">        <span class="s1">&#39;hash-open-dot&#39;</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="s1">&#39;37&#39;</span><span class="p">,</span> <span class="s1">&#39;y-up&#39;</span><span class="p">,</span> <span class="mi">137</span><span class="p">,</span> <span class="s1">&#39;137&#39;</span><span class="p">,</span>
</span><span id="1-76">        <span class="s1">&#39;y-up-open&#39;</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;38&#39;</span><span class="p">,</span> <span class="s1">&#39;y-down&#39;</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="s1">&#39;138&#39;</span><span class="p">,</span>
</span><span id="1-77">        <span class="s1">&#39;y-down-open&#39;</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="s1">&#39;39&#39;</span><span class="p">,</span> <span class="s1">&#39;y-left&#39;</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="s1">&#39;139&#39;</span><span class="p">,</span>
</span><span id="1-78">        <span class="s1">&#39;y-left-open&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;40&#39;</span><span class="p">,</span> <span class="s1">&#39;y-right&#39;</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="s1">&#39;140&#39;</span><span class="p">,</span>
</span><span id="1-79">        <span class="s1">&#39;y-right-open&#39;</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="s1">&#39;41&#39;</span><span class="p">,</span> <span class="s1">&#39;line-ew&#39;</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span> <span class="s1">&#39;141&#39;</span><span class="p">,</span>
</span><span id="1-80">        <span class="s1">&#39;line-ew-open&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s1">&#39;42&#39;</span><span class="p">,</span> <span class="s1">&#39;line-ns&#39;</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="s1">&#39;142&#39;</span><span class="p">,</span>
</span><span id="1-81">        <span class="s1">&#39;line-ns-open&#39;</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="s1">&#39;43&#39;</span><span class="p">,</span> <span class="s1">&#39;line-ne&#39;</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="s1">&#39;143&#39;</span><span class="p">,</span>
</span><span id="1-82">        <span class="s1">&#39;line-ne-open&#39;</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="s1">&#39;44&#39;</span><span class="p">,</span> <span class="s1">&#39;line-nw&#39;</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="s1">&#39;144&#39;</span><span class="p">,</span>
</span><span id="1-83">        <span class="s1">&#39;line-nw-open&#39;</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;45&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-up&#39;</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span> <span class="s1">&#39;145&#39;</span><span class="p">,</span>
</span><span id="1-84">        <span class="s1">&#39;arrow-up-open&#39;</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="s1">&#39;46&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-down&#39;</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="s1">&#39;146&#39;</span><span class="p">,</span>
</span><span id="1-85">        <span class="s1">&#39;arrow-down-open&#39;</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="s1">&#39;47&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-left&#39;</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="s1">&#39;147&#39;</span><span class="p">,</span>
</span><span id="1-86">        <span class="s1">&#39;arrow-left-open&#39;</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="s1">&#39;48&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-right&#39;</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="s1">&#39;148&#39;</span><span class="p">,</span>
</span><span id="1-87">        <span class="s1">&#39;arrow-right-open&#39;</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="s1">&#39;49&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-up&#39;</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span> <span class="s1">&#39;149&#39;</span><span class="p">,</span>
</span><span id="1-88">        <span class="s1">&#39;arrow-bar-up-open&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;50&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-down&#39;</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span>
</span><span id="1-89">        <span class="s1">&#39;150&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-down-open&#39;</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;51&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-left&#39;</span><span class="p">,</span>
</span><span id="1-90">        <span class="mi">151</span><span class="p">,</span> <span class="s1">&#39;151&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-left-open&#39;</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="s1">&#39;52&#39;</span><span class="p">,</span>
</span><span id="1-91">        <span class="s1">&#39;arrow-bar-right&#39;</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="s1">&#39;152&#39;</span><span class="p">,</span> <span class="s1">&#39;arrow-bar-right-open&#39;</span><span class="p">]</span>
</span></pre></div>
</div>
</div></blockquote>
</p></li>
<li><p><strong>marker_colors</strong> (<em>dict</em>) – Colors of the annotations. Used just if actions column passed.</p></li>
<li><p><strong>marker_legend_names</strong> (<em>dict</em>) – A dict with the names to print as tags over the annotations. Used just if actions column passed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.plot_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">plot_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logarithmic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap_prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shifted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_update_layout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.plot_trades" title="Link to this definition">¶</a></dt>
<dd><p>Plots scatter plot from trades quantity and trades sizes. Marks are size scaled to the max size. Marks are semi transparent and colored
using Maker buyer or Taker buyer discrete colors. Usually red and blue.</p>
<p>Can let you see where are the big sized trades done and the taker or maker buyer side.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – A BinPans trades dataframe.</p></li>
<li><p><strong>max_size</strong> (<em>int</em>) – Size of the marks for the biggest quantity sized trades.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing.</p></li>
<li><p><strong>logarithmic</strong> (<em>bool</em>) – Y axis in a logarithmic scale.</p></li>
<li><p><strong>overlap_prices</strong> (<em>pd.DataFrame</em>) – Data to plot overlapping scatter plot.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – Title string.</p></li>
<li><p><strong>shifted</strong> (<em>int</em>) – If passed any integer, shifts candles to the right one step, this way can see more naturally trades actions over
klines.</p></li>
<li><p><strong>kwargs_update_layout</strong> – Update layout plotly options.</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">lunc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;luncbusd&#39;</span><span class="p">,</span>
</span><span id="1-4">                     <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;5m&#39;</span><span class="p">,</span>
</span><span id="1-5">                     <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="1-6">                     <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                     <span class="n">time_index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-8">                     <span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="1-9"><span class="n">lunc</span><span class="o">.</span><span class="n">get_agg_trades</span><span class="p">()</span>
</span><span id="1-10"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_trade_size</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">lunc</span><span class="o">.</span><span class="n">trades</span><span class="p">,</span> <span class="n">logarithmic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/plot_trades_size_log.png"><img alt="_images/plot_trades_size_log.png" src="_images/plot_trades_size_log.png" style="width: 1000px;" /></a>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.plot_pie">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">plot_pie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serie</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Size</span> <span class="pre">trade</span> <span class="pre">categories'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logarithmic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.plot_pie" title="Link to this definition">¶</a></dt>
<dd><p>Plots a pie chart from a column. Useful to see size ranges in trades, but can be used in any way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serie</strong> (<em>pd.Series</em>) – pandas serie with numeric values or strings.</p></li>
<li><p><strong>categories</strong> (<em>int</em>) – Category count to divide chart.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – String title.</p></li>
<li><p><strong>logarithmic</strong> (<em>bool</em>) – If logarithmic is selected as true, the sizes of each interval will be distributed in logarithmic steps from
the smallest to the largest, that is, the smallest values will be divided into smaller groups that will increase exponentially in size.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">lunc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;luncbusd&#39;</span><span class="p">,</span>
</span><span id="1-4">                     <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;5m&#39;</span><span class="p">,</span>
</span><span id="1-5">                     <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="1-6">                     <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                     <span class="n">time_index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-8">                     <span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="1-9">
</span><span id="1-10"><span class="n">lunc</span><span class="o">.</span><span class="n">get_agg_trades</span><span class="p">()</span>
</span><span id="1-11">
</span><span id="1-12"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_pie</span><span class="p">(</span><span class="n">serie</span> <span class="o">=</span> <span class="n">lunc</span><span class="o">.</span><span class="n">trades</span><span class="p">[</span><span class="s1">&#39;Quantity&#39;</span><span class="p">],</span> <span class="n">logarithmic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/plot_pie_log.png"><img alt="_images/plot_pie_log.png" src="_images/plot_pie_log.png" style="width: 1000px;" /></a>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.plot_scatter">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">plot_scatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marginal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.plot_scatter" title="Link to this definition">¶</a></dt>
<dd><p>Plot scatter plots with a column of values in X axis and other in Y axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A Dataframe.</p></li>
<li><p><strong>x_col</strong> (<em>str</em>) – Name of column with X axis data.</p></li>
<li><p><strong>y_col</strong> (<em>str</em>) – Name of column with Y axis data.</p></li>
<li><p><strong>symbol</strong> (<em>str</em>) – Name of column with values (discrete or not) to apply a symbol each.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Name of column with values (discrete or not) to apply a color each.</p></li>
<li><p><strong>marginal</strong> (<em>bool</em>) – Lateral auxiliar plots.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string.</p></li>
<li><p><strong>height</strong> – Plot sizing.</p></li>
<li><p><strong>kwargs</strong> – Optional plotly kwargs.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">lunc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;luncbusd&#39;</span><span class="p">,</span>
</span><span id="1-4">                     <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;5m&#39;</span><span class="p">,</span>
</span><span id="1-5">                     <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="1-6">                     <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                     <span class="n">time_index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-8">                     <span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="1-9">
</span><span id="1-10"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">df</span> <span class="o">=</span> <span class="n">lunc</span><span class="o">.</span><span class="n">df</span><span class="p">,</span>
</span><span id="1-11">                                      <span class="n">x_col</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
</span><span id="1-12">                                      <span class="n">y_col</span><span class="o">=</span><span class="s1">&#39;Volume&#39;</span><span class="p">,</span>
</span><span id="1-13">                                      <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Trades&#39;</span><span class="p">,</span>
</span><span id="1-14">                                      <span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;Close&#39;</span><span class="p">,</span>
</span><span id="1-15">                                      <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Scatter plot for LUNCBUSD Close price in X and Volume in Y&#39;</span>
</span><span id="1-16">                                      <span class="p">)</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/scatter_example.png"><img alt="_images/scatter_example.png" src="_images/scatter_example.png" style="width: 1000px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.plot_hists_vs">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">plot_hists_vs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hist_funct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">900</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_update_layout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.plot_hists_vs" title="Link to this definition">¶</a></dt>
<dd><p>Plots two histograms with same x scale to campare distributions of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x0</strong> (<em>pd.Series</em>) – A pandas series.</p></li>
<li><p><strong>x1</strong> (<em>pd.Series</em>) – A pandas series.</p></li>
<li><p><strong>x0_name</strong> (<em>str</em>) – Name for the legend</p></li>
<li><p><strong>x1_name</strong> (<em>str</em>) – Name for the legend</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Number of bins or bars to show.</p></li>
<li><p><strong>hist_funct</strong> (<em>str</em>) – <p>A function to apply to data. It can be ‘sum’, ‘count’, ‘average’, etc…</p>
<p>More details in: <a class="reference external" href="https://plotly.com/python/histograms/#histograms-with-gohistogram">https://plotly.com/python/histograms/#histograms-with-gohistogram</a></p>
</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – Plot title.</p></li>
<li><p><strong>kwargs_update_layout</strong> – Plotly update layout options.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">lunc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;luncbusd&#39;</span><span class="p">,</span>
</span><span id="1-4">                     <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;5m&#39;</span><span class="p">,</span>
</span><span id="1-5">                     <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="1-6">                     <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                     <span class="n">time_index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-8">                     <span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="1-9">
</span><span id="1-10"><span class="n">binpan</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_hists_vs</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="n">lunc</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">],</span>
</span><span id="1-11">                                       <span class="n">x1</span><span class="o">=</span><span class="n">lunc</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">],</span>
</span><span id="1-12">                                       <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
</span><span id="1-13">                                       <span class="n">hist_funct</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span>
</span><span id="1-14">                                       <span class="n">title</span><span class="o">=</span><span class="s1">&#39;High and Low prices distribution.&#39;</span><span class="p">)</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/hist_vs_dist.png"><img alt="_images/hist_vs_dist.png" src="_images/hist_vs_dist.png" style="width: 1000px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.orderbook_depth">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">orderbook_depth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accumulated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Depth</span> <span class="pre">orderbook</span> <span class="pre">plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Quantity'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.orderbook_depth" title="Link to this definition">¶</a></dt>
<dd><p>Plots orderbook from a BinPan orderbook dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DAtaFrame</em>) – BinPan orderbook dataframe.</p></li>
<li><p><strong>accumulated</strong> (<em>bool</em>) – If true, applies cumsum to asks and bids.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing.</p></li>
<li><p><strong>plot_y</strong> (<em>str</em>) – Column name with y axis data. Defaults to Quantity.</p></li>
<li><p><strong>kwargs</strong> – Plotly kwargs.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">import</span> <span class="nn">binpan</span>
</span><span id="1-2">
</span><span id="1-3"><span class="n">lunc</span> <span class="o">=</span> <span class="n">binpan</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s1">&#39;luncbusd&#39;</span><span class="p">,</span>
</span><span id="1-4">                    <span class="n">tick_interval</span><span class="o">=</span><span class="s1">&#39;5m&#39;</span><span class="p">,</span>
</span><span id="1-5">                    <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="1-6">                    <span class="n">time_zone</span> <span class="o">=</span> <span class="s1">&#39;Europe/Madrid&#39;</span><span class="p">,</span>
</span><span id="1-7">                    <span class="n">time_index</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-8">                    <span class="n">closed</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="1-9">
</span><span id="1-10"><span class="n">lunc</span><span class="o">.</span><span class="n">get_orderbook</span><span class="p">()</span>
</span></pre></div>
</div>
<a class="reference internal image-reference" href="_images/plot_orderbook.png"><img alt="_images/plot_orderbook.png" src="_images/plot_orderbook.png" style="width: 1000px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.dist_plot">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">dist_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Price'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Side'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">histnorm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'density'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Distribution'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">update_layout_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.dist_plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot a distribution plot for a dataframe column. Plots line for kernel distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A BinPan Dataframe like orderbook, candles, or any other.</p></li>
<li><p><strong>x_col</strong> (<em>str</em>) – Column name for x-axis data.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – Column name with tags or any values for using as color scale.</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Columns in histogram.</p></li>
<li><p><strong>histnorm</strong> (<em>str</em>) – One of ‘percent’, ‘probability’, ‘density’, or ‘probability density’ from plotly express documentation.
<a class="reference external" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.histogram.html">https://plotly.github.io/plotly.py-docs/generated/plotly.express.histogram.html</a></p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string</p></li>
<li><p><strong>update_layout_kwargs</strong> – Additional kwargs for plotly update_layout method.</p></li>
<li><p><strong>update_layout_kwargs</strong> – Additional kwargs for plotly update_layout method.</p></li>
</ul>
</dd>
</dl>
<p>Example from binpan Symbol plot_orderbook_density method.</p>
<a class="reference internal image-reference" href="_images/orderbook_density.png"><img alt="_images/orderbook_density.png" src="_images/orderbook_density.png" style="width: 1000px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.bar_plot">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">bar_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_col_to_bars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bar_segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Buyer</span> <span class="pre">was</span> <span class="pre">maker'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'sum'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'mean'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Bar</span> <span class="pre">Plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_axis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_bars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">update_layout_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.bar_plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot a bar plot for a dataframe column with optional segments based on the ‘bar_segments’ column.</p>
<a class="reference internal image-reference" href="_images/bar_plot.png"><img alt="_images/bar_plot.png" src="_images/bar_plot.png" style="width: 1000px;" /></a>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A DataFrame like orderbook, candles, trades or any other.</p></li>
<li><p><strong>x_col_to_bars</strong> (<em>str</em>) – A column name to group values into x bars, like in example, price.</p></li>
<li><p><strong>y_col</strong> (<em>str</em>) – Column names for y-axis data, if more than one will be stacked.</p></li>
<li><p><strong>bar_segments</strong> (<em>str</em>) – Other column name to differentiate each bar segment (if split_colors is True).</p></li>
<li><p><strong>split_colors</strong> (<em>bool</em>) – Whether to split the bars into segments based on the bar_segments column.</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Columns in histogram.</p></li>
<li><p><strong>aggregation</strong> (<em>str</em>) – Aggregation method, can be ‘sum’ or ‘mean’.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – Plot sizing.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – A title string</p></li>
<li><p><strong>y_axis_title</strong> (<em>str</em>) – Title for y axis plot.</p></li>
<li><p><strong>horizontal_bars</strong> – Flips graph with horizontal bars.</p></li>
<li><p><strong>update_layout_kwargs</strong> – Additional kwargs for plotly update_layout method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.profile_plot">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">profile_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serie</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Profile</span> <span class="pre">Plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_axis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_axis_title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">update_layout_kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#handlers.plotting.profile_plot" title="Link to this definition">¶</a></dt>
<dd><p>This function generates a horizontal bar chart from a pandas series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>serie</strong> (<em>pd.Series</em>) – The pandas series to be plotted.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – The title of the plot. Default is “Profile Plot”.</p></li>
<li><p><strong>x_axis_title</strong> (<em>str</em>) – The title for the x-axis. Default is None.</p></li>
<li><p><strong>y_axis_title</strong> (<em>str</em>) – The title for the y-axis. Default is None.</p></li>
<li><p><strong>vertical_bar</strong> (<em>float</em>) – A vertical line to be drawn in the plot. Default is None.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – The color of the bars in the plot. Default is ‘blue’.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – The height of the plot. Default is 800.</p></li>
<li><p><strong>width</strong> (<em>int</em>) – The width of the plot. Default is None, which lets Plotly auto-size the plot.</p></li>
<li><p><strong>update_layout_kwargs</strong> – Additional arguments for customizing the appearance of the plot.</p></li>
</ul>
</dd>
<dt class="field-even">Return str<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to the image file of the generated plot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.plot_orderbook_value">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">plot_orderbook_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ask_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bid_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.plot_orderbook_value" title="Link to this definition">¶</a></dt>
<dd><p>Plots orderbook levels quantities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ask_data</strong> (<em>list</em>) – Quantities in a list of tuples with level quantities and a timestamp.</p></li>
<li><p><strong>bid_data</strong> (<em>list</em>) – Quantities in a list of tuples with level quantities and a timestamp.</p></li>
<li><p><strong>close_prices</strong> – Close prices with time index.</p></li>
</ul>
</dd>
</dl>
<a class="reference internal image-reference" href="_images/plot_orderbook_value.png"><img alt="_images/plot_orderbook_value.png" src="_images/plot_orderbook_value.png" style="width: 1000px;" /></a>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.normalize">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.normalize" title="Link to this definition">¶</a></dt>
<dd><p>Normalize data from minimum as 0 to maximum as 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_value</strong> (<em>int</em><em> or </em><em>float</em>) – A numeric value.</p></li>
<li><p><strong>min_value</strong> (<em>int</em><em> or </em><em>float</em>) – A numeric value.</p></li>
<li><p><strong>data</strong> – List of numerica data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalized numeric data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.find_step_for_bins">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">find_step_for_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pip_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.find_step_for_bins" title="Link to this definition">¶</a></dt>
<dd><p>Find precision for getting a target number of bins intervals for values in master column.</p>
<p>Very expensive function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – A binpan’s dataframe.</p></li>
<li><p><strong>master_column</strong> (<em>str</em>) – Column to groupby.</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Expected vertical slots.</p></li>
<li><p><strong>pip_size</strong> – Size of what will be considered a tiny value.</p></li>
</ul>
</dd>
<dt class="field-even">Return float<span class="colon">:</span></dt>
<dd class="field-even"><p>The step for the bins.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.plotting.group_slot">
<span class="sig-prename descclassname"><span class="pre">handlers.plotting.</span></span><span class="sig-name descname"><span class="pre">group_slot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.plotting.group_slot" title="Link to this definition">¶</a></dt>
<dd><p>Get what vertical slot size results for a number of bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – A binpan’s dataframe.</p></li>
<li><p><strong>master_column</strong> (<em>str</em>) – Column to groupby.</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Expected vertical slots.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Size of each slot.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
        
        <div class="navigation flex print:hidden">
  <div class="navigation-prev">
    <a href="messages.html">
      <i class="i-icon chevron"></i>
      <div class="page-info">
        <span>Previous</span>
        
        <div class="title">Messages Module</div>
        
      </div>
    </a>
  </div>
  <div class="navigation-next">
    <a href="postgresql.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">PostgreSQL Module</div>
      </div>
      <i class="i-icon chevron"></i>
    </a>
  </div>
</div>
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2022, Fernando Alfonso</p>
        
        <p>
          Made with
          
          <a href="https://www.sphinx-doc.org/">Sphinx</a> and
          
          <a href="https://shibuya.lepture.com">Shibuya theme</a>.
        </p>
      </div>
      <div class="sy-foot-socials">
      </div>
    </div>
  </div>
</footer></div>
      <script src="_static/documentation_options.js?v=b9afe91b"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/shibuya.js?v=3e5c8598"></script>
    
</body>
</html>