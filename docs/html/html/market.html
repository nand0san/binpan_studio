<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Market Module - BinPan 0.8.7 documentation</title>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Messages Module" href="messages.html" /><link rel="prev" title="Influx Manager Module" href="influx_manager.html" />
  <script>
    const isDarkTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const sessionTheme = sessionStorage['_theme']
    if (sessionTheme) {
      document.documentElement.classList.add(sessionTheme)
    } else if (isDarkTheme) {
      document.documentElement.classList.add('dark')
    }
  </script><link rel="stylesheet" href="_static/pygments.css?v=2023.6.8" type="text/css" />
    <link rel="stylesheet" href="_static/shibuya.css?v=2023.6.8" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    <link media="print" rel="stylesheet" type="text/css" href="_static/print.css?v=2023.6.8" />
    <style>
:root {
  --sy-f-sys:-apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Droid Sans, Helvetica Neue;--sy-f-cjk:PingFang SC, Hiragino Sans GB, Droid Sans Fallback, Microsoft YaHei;--sy-f-heading:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-text:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-mono:Menlo, Monaco, Consolas, "Courier New", monospace;--sy-c-divider:rgba(var(--sy-rc-text), 0.1);--sy-c-divider-weak:rgba(var(--sy-rc-text), 0.05);--sy-c-border:rgba(var(--sy-rc-text), 0.14);--sy-s-banner-height:0rem;--sy-s-navbar-height:4rem;--sy-s-offset-top:calc(var(--sy-s-navbar-height) + var(--sy-s-banner-height));--sy-c-link:rgb(var(--sy-rc-theme));
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
@media (prefers-color-scheme: light) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
  }
}
html.light {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
html.dark {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
}
</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-heading: Inter, var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Market Module"/>
<meta name="twitter:card" content="summary"/></head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <div class="sy-head-links flex items-center">
      <div class="md:hidden flex items-center">
        <button class="hamburger js-menu mr-3" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </button>
      </div>
      <a class="sy-head-brand" href="index.html">
        
        
        <strong>BinPan</strong>
      </a></div>
    <div class="sy-head-actions flex gap-2 items-center print:hidden">
      
      <div class="hidden md:block"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form>
      </div>
      <button class="js-theme theme-switch flex items-center ml-1" data-aria-light="Switch to dark mode" data-aria-dark="Switch to light mode">
        <i class="i-icon theme-icon"></i>
      </button>
      
        <button class="js-menu xl:hidden flex items-center ml-1" aria-label="Show table of contents" type="button" aria-controls="rside" aria-expanded="false">
          <i class="i-icon outdent"></i>
        </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-64 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-lside-top md:hidden pt-3 pb-3 px-6">
        <div class="pt-3"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <button>Go</button>
</form>
        </div></div>
      <div class="sy-scrollbar p-6">
        <div class="globaltoc">
          <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="binpan.html">BinPan Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregations.html">Aggregations Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exchange.html">Exchange Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Files Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="indicators.html">Indicators Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="influx_manager.html">Influx Manager Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Market Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Messages Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgresql.html">PostgreSQL Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgresql_database.html">PostgreSQL Database Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="quest.html">Requests Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis_fetch.html">Redis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="stat_tests.html">Statistical Tests and Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="starters.html">Starters Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategies.html">Strategies Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tags.html">Tags &amp; Backtesting Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="time_helper.html">Time Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="wallet.html">Wallet Module</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-icon close"></i>
    </button>
    <div class="sy-scrollbar px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>Table of Contents</h3>
    <ul>
<li><a class="reference internal" href="#handlers.market.get_last_price"><code class="docutils literal notranslate"><span class="pre">get_last_price()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_prices_dic"><code class="docutils literal notranslate"><span class="pre">get_prices_dic()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_candles_by_time_stamps"><code class="docutils literal notranslate"><span class="pre">get_candles_by_time_stamps()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_historical_candles"><code class="docutils literal notranslate"><span class="pre">get_historical_candles()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.parse_candles_to_dataframe"><code class="docutils literal notranslate"><span class="pre">parse_candles_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.basic_dataframe"><code class="docutils literal notranslate"><span class="pre">basic_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.convert_to_numeric"><code class="docutils literal notranslate"><span class="pre">convert_to_numeric()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.convert_dict_to_numeric"><code class="docutils literal notranslate"><span class="pre">convert_dict_to_numeric()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_last_agg_trades"><code class="docutils literal notranslate"><span class="pre">get_last_agg_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_aggregated_trades"><code class="docutils literal notranslate"><span class="pre">get_aggregated_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_historical_agg_trades"><code class="docutils literal notranslate"><span class="pre">get_historical_agg_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_historical_trades"><code class="docutils literal notranslate"><span class="pre">get_historical_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.parse_agg_trades_to_dataframe"><code class="docutils literal notranslate"><span class="pre">parse_agg_trades_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_last_atomic_trades"><code class="docutils literal notranslate"><span class="pre">get_last_atomic_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_atomic_trades"><code class="docutils literal notranslate"><span class="pre">get_atomic_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_historical_atomic_trades"><code class="docutils literal notranslate"><span class="pre">get_historical_atomic_trades()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.parse_atomic_trades_to_dataframe"><code class="docutils literal notranslate"><span class="pre">parse_atomic_trades_to_dataframe()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_order_book"><code class="docutils literal notranslate"><span class="pre">get_order_book()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.get_orderbook_tickers"><code class="docutils literal notranslate"><span class="pre">get_orderbook_tickers()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.intermediate_conversion"><code class="docutils literal notranslate"><span class="pre">intermediate_conversion()</span></code></a></li>
<li><a class="reference internal" href="#handlers.market.convert_coin"><code class="docutils literal notranslate"><span class="pre">convert_coin()</span></code></a></li>
</ul>


  </div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-6 xl:px-12">
        <article class="yue" role="main">
          <section id="module-handlers.market">
<span id="market-module"></span><h1>Market Module<a class="headerlink" href="#module-handlers.market" title="Permalink to this heading">¶</a></h1>
<p>Market functions</p>
<p><strong>Functions:</strong></p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_last_price" title="handlers.market.get_last_price"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_last_price</span></code></a>([symbol])</p></td>
<td><p>Returns all prices of symbols in a dict or if symbol specified, the float price of symbol.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_prices_dic" title="handlers.market.get_prices_dic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_prices_dic</span></code></a>(decimal_mode)</p></td>
<td><p>Gets all symbols current prices into a dictionary.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_candles_by_time_stamps" title="handlers.market.get_candles_by_time_stamps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_candles_by_time_stamps</span></code></a>(symbol, tick_interval)</p></td>
<td><p>Calls API for a candles list using one or two timestamps, starting and ending.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_historical_candles" title="handlers.market.get_historical_candles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_historical_candles</span></code></a>(symbol, ...[, ...])</p></td>
<td><p>Retrieve all kline data within the given time range considering the API limit.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.parse_candles_to_dataframe" title="handlers.market.parse_candles_to_dataframe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_candles_to_dataframe</span></code></a>(raw_response, ...)</p></td>
<td><p>Format a list of lists by changing the indicated time fields to string format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.basic_dataframe" title="handlers.market.basic_dataframe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basic_dataframe</span></code></a>(data[, exceptions, actions_col])</p></td>
<td><p>Delete all columns except: Open, High, Low, Close, Volume, actions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.convert_to_numeric" title="handlers.market.convert_to_numeric"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_to_numeric</span></code></a>(data)</p></td>
<td><p>Converts to numeric all posible columns for a given Dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.convert_dict_to_numeric" title="handlers.market.convert_dict_to_numeric"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_dict_to_numeric</span></code></a>(input_dict, ...)</p></td>
<td><p>Converts all values in a dictionary to numeric values if possible.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_last_agg_trades" title="handlers.market.get_last_agg_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_last_agg_trades</span></code></a>(symbol[, limit])</p></td>
<td><p>Get just the last aggregated trades from API.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_aggregated_trades" title="handlers.market.get_aggregated_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_aggregated_trades</span></code></a>(symbol[, fromId, ...])</p></td>
<td><p>Returns aggregated trades from id to limit or last trades if id not specified.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_historical_agg_trades" title="handlers.market.get_historical_agg_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_historical_agg_trades</span></code></a>(symbol[, ...])</p></td>
<td><p>Returns aggregated trades from id to limit or last trades if id not specified.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_historical_trades" title="handlers.market.get_historical_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_historical_trades</span></code></a>(symbol, trade_type, ...)</p></td>
<td><p>Returns aggregated or atomic trades from id to limit or last trades if id not specified.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.parse_agg_trades_to_dataframe" title="handlers.market.parse_agg_trades_to_dataframe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_agg_trades_to_dataframe</span></code></a>(response, ...)</p></td>
<td><p>Parses the API response into a pandas dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_last_atomic_trades" title="handlers.market.get_last_atomic_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_last_atomic_trades</span></code></a>(symbol[, limit])</p></td>
<td><p>Returns recent atomic (not aggregated) trades.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_atomic_trades" title="handlers.market.get_atomic_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_atomic_trades</span></code></a>(symbol[, fromId, limit, ...])</p></td>
<td><p>Returns atomic (not aggregated) trades from id to limit or last trades if id not specified.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_historical_atomic_trades" title="handlers.market.get_historical_atomic_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_historical_atomic_trades</span></code></a>(symbol[, ...])</p></td>
<td><p>Returns atomic (not aggregated) trades between timestamps.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.parse_atomic_trades_to_dataframe" title="handlers.market.parse_atomic_trades_to_dataframe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_atomic_trades_to_dataframe</span></code></a>(response, ...)</p></td>
<td><p>Parses the API response into a pandas dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.get_order_book" title="handlers.market.get_order_book"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_order_book</span></code></a>(symbol[, limit])</p></td>
<td><p>Returns a dictionary with timestamp, bids and asks.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.get_orderbook_tickers" title="handlers.market.get_orderbook_tickers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_orderbook_tickers</span></code></a>([symbol, decimal_mode])</p></td>
<td><p>Symbol Order Book Ticker</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#handlers.market.intermediate_conversion" title="handlers.market.intermediate_conversion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intermediate_conversion</span></code></a>(coin, decimal_mode)</p></td>
<td><p>Uses an intermediate symbol for conversion.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#handlers.market.convert_coin" title="handlers.market.convert_coin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_coin</span></code></a>(coin, decimal_mode[, ...])</p></td>
<td><p>Calculates a coin quantity value converted to other coin with current exchange prices.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_last_price">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_last_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.market.get_last_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all prices of symbols in a dict or if symbol specified, the float price of symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbol</strong> (<em>str</em>) – A binance symbol.</p>
</dd>
<dt class="field-even">Return dict or list<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_prices_dic">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_prices_dic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.market.get_prices_dic" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all symbols current prices into a dictionary.
:decimal_mode bool: It flags to work in decimal mode.
:return dict:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_candles_by_time_stamps">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_candles_by_time_stamps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Europe/Madrid'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_candles_by_time_stamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls API for a candles list using one or two timestamps, starting and ending.</p>
<p>In case the limit is passed and exceeded by requested time intervals, the start_time prevails over the end_time,
start_time must come in milliseconds from epoch.</p>
<p>In case of two timeStamps as arguments, limit is ignored and a loop is performed to get all candles in the range.</p>
<p>The API rounds the startTime up to the next open of the next candle. That is, it does not include the candle in which there is
that timeStamp, but the next candle of the corresponding tick_interval, except in case it exactly matches the value of an open
timestamp, in which case it will include it in the return.</p>
<p>The indicated endTime will include the candlestick that timestamp is on. It should be in milliseconds. It can be a not closed one if
is open right in between the endtime timestamp. API is inclusive in this case.</p>
<p>If no timestamps are passed, the last quantity candlesticks up to limit count are returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>tick_interval</strong> (<em>str</em>) – A binance valid time interval for candlesticks.</p></li>
<li><p><strong>start_time</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>end_time</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Count of candles to ask for.</p></li>
<li><p><strong>time_zone</strong> (<em>str</em>) – Just used for exception errors.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default unique API response is inclusive for start_time and end_time, IF LESS than 1000 limit applied.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">[</span>
</span><span id="1-2">  <span class="p">[</span>
</span><span id="1-3">    <span class="mi">1499040000000</span><span class="p">,</span>      <span class="o">//</span> <span class="n">Open</span> <span class="n">time</span>
</span><span id="1-4">    <span class="s2">&quot;0.01634790&quot;</span><span class="p">,</span>       <span class="o">//</span> <span class="n">Open</span>
</span><span id="1-5">    <span class="s2">&quot;0.80000000&quot;</span><span class="p">,</span>       <span class="o">//</span> <span class="n">High</span>
</span><span id="1-6">    <span class="s2">&quot;0.01575800&quot;</span><span class="p">,</span>       <span class="o">//</span> <span class="n">Low</span>
</span><span id="1-7">    <span class="s2">&quot;0.01577100&quot;</span><span class="p">,</span>       <span class="o">//</span> <span class="n">Close</span>
</span><span id="1-8">    <span class="s2">&quot;148976.11427815&quot;</span><span class="p">,</span>  <span class="o">//</span> <span class="n">Volume</span>
</span><span id="1-9">    <span class="mi">1499644799999</span><span class="p">,</span>      <span class="o">//</span> <span class="n">Close</span> <span class="n">time</span>
</span><span id="1-10">    <span class="s2">&quot;2434.19055334&quot;</span><span class="p">,</span>    <span class="o">//</span> <span class="n">Quote</span> <span class="n">asset</span> <span class="n">volume</span>
</span><span id="1-11">    <span class="mi">308</span><span class="p">,</span>                <span class="o">//</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">trades</span>
</span><span id="1-12">    <span class="s2">&quot;1756.87402397&quot;</span><span class="p">,</span>    <span class="o">//</span> <span class="n">Taker</span> <span class="n">buy</span> <span class="n">base</span> <span class="n">asset</span> <span class="n">volume</span>
</span><span id="1-13">    <span class="s2">&quot;28.46694368&quot;</span><span class="p">,</span>      <span class="o">//</span> <span class="n">Taker</span> <span class="n">buy</span> <span class="n">quote</span> <span class="n">asset</span> <span class="n">volume</span>
</span><span id="1-14">    <span class="s2">&quot;17928899.62484339&quot;</span> <span class="o">//</span> <span class="n">Ignore</span><span class="o">.</span>
</span><span id="1-15">  <span class="p">]</span>
</span><span id="1-16"><span class="p">]</span>
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_historical_candles">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_historical_candles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_interval_ms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requests_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_historical_candles" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all kline data within the given time range considering the API limit.</p>
<p>Start time and end time are rounded down to the nearest open tick interval and are included both opens rounded.</p>
<p>Please, check last close timestamp in klines because it can be not closed yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – The trading pair symbol (e.g., “BTCUSDT”).</p></li>
<li><p><strong>tick_interval</strong> (<em>str</em>) – Kline tick interval (e.g., “1m”, “3m”, “1h”).</p></li>
<li><p><strong>start_time</strong> (<em>int</em>) – Start timestamp (milliseconds) of the time range.</p></li>
<li><p><strong>end_time</strong> (<em>int</em>) – End timestamp (milliseconds) of the time range.</p></li>
<li><p><strong>tick_interval_ms</strong> (<em>int</em>) – Kline tick interval in milliseconds.</p></li>
<li><p><strong>requests_limit</strong> (<em>int</em>) – API limit for the number of klines in a single request (default: 1000).</p></li>
<li><p><strong>ignore_errors</strong> (<em>bool</em>) – If tru, just throw a warning on error. Recommended for redis filler.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of klines data within the given time range.</p>
</dd>
</dl>
<p>Example of binpan response:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">[[</span><span class="mi">1696786200000</span><span class="p">,</span>
</span><span id="1-2"> <span class="s1">&#39;27890.28000000&#39;</span><span class="p">,</span>
</span><span id="1-3"> <span class="s1">&#39;27892.47000000&#39;</span><span class="p">,</span>
</span><span id="1-4"> <span class="s1">&#39;27890.27000000&#39;</span><span class="p">,</span>
</span><span id="1-5"> <span class="s1">&#39;27890.45000000&#39;</span><span class="p">,</span>
</span><span id="1-6"> <span class="s1">&#39;5.42396000&#39;</span><span class="p">,</span>
</span><span id="1-7"> <span class="mi">1696786259999</span><span class="p">,</span>
</span><span id="1-8"> <span class="s1">&#39;151280.49524920&#39;</span><span class="p">,</span>
</span><span id="1-9"> <span class="mi">370</span><span class="p">,</span>
</span><span id="1-10"> <span class="s1">&#39;1.99232000&#39;</span><span class="p">,</span>
</span><span id="1-11"> <span class="s1">&#39;55567.81240580&#39;</span><span class="p">,</span>
</span><span id="1-12"> <span class="s1">&#39;0&#39;</span><span class="p">]</span><span class="o">...</span><span class="p">]</span>
</span></pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.parse_candles_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">parse_candles_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'UTC'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.market.parse_candles_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a list of lists by changing the indicated time fields to string format.</p>
<p>Passing a time_zone, for example ‘Europe/Madrid’, will change the time from utc to the indicated zone.</p>
<p>It will automatically sort the DataFrame using the first column of the time_cols list.</p>
<p>The index of the DataFrame will be numeric correlative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_response</strong> (<em>list</em><em>(</em><em>lists</em><em>)</em>) – API klines response. List of lists.</p></li>
<li><p><strong>symbol</strong> (<em>str</em>) – Symbol requested</p></li>
<li><p><strong>tick_interval</strong> (<em>str</em>) – Tick interval between candles.</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – Column names. Default is BinPan dataframe columns.</p></li>
<li><p><strong>time_cols</strong> (<em>list</em>) – Columns to take dates from.</p></li>
<li><p><strong>time_zone</strong> (<em>str</em><em> or </em><em>None</em>) – Optional. Time zone to convert dates in index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.basic_dataframe">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">basic_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'actions'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.market.basic_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all columns except: Open, High, Low, Close, Volume, actions.</p>
<p>Some columns can be excepted.</p>
<p>Useful to drop messed technical indicators columns in one shot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – A BinPan DataFrame</p></li>
<li><p><strong>exceptions</strong> (<em>list</em>) – A list of columns to avoid dropping.</p></li>
<li><p><strong>actions_col</strong> (<em>str</em>) – A column with operative actions.</p></li>
</ul>
</dd>
<dt class="field-even">Return pd.DataFrame<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.convert_to_numeric">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">convert_to_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.market.convert_to_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to numeric all posible columns for a given Dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pd.DataFrame</em>) – A dataframe with columns</p>
</dd>
<dt class="field-even">Return pd.DataFrame<span class="colon">:</span></dt>
<dd class="field-even"><p>A dataframe with numeric values in each column that can be numeric.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.convert_dict_to_numeric">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">convert_dict_to_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_datetime2int</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.market.convert_dict_to_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all values in a dictionary to numeric values if possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dict</strong> – A dictionary.</p></li>
<li><p><strong>parse_datetime2int</strong> – If True, parses datetime columns to int.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a dictionary with all values converted to numeric values if possible.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_last_agg_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_last_agg_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_last_agg_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Get just the last aggregated trades from API.</p>
<p>GET /api/v3/aggTrades</p>
<p>Get compressed, aggregate trades. Trades that fill at the time, from the same order, with the same price will have the quantity
aggregated.</p>
<p>Weight(IP): 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – A binance symbol.</p></li>
<li><p><strong>limit</strong> – API max limit is 1000.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Aggregated trades in a list.</p>
</dd>
</dl>
<p>Return example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1">[
</span><span id="1-2">  {
</span><span id="1-3">    &quot;a&quot;: 26129,         // Aggregate tradeId
</span><span id="1-4">    &quot;p&quot;: &quot;0.01633102&quot;,  // Price
</span><span id="1-5">    &quot;q&quot;: &quot;4.70443515&quot;,  // Quantity
</span><span id="1-6">    &quot;f&quot;: 27781,         // First tradeId
</span><span id="1-7">    &quot;l&quot;: 27781,         // Last tradeId
</span><span id="1-8">    &quot;T&quot;: 1498793709153, // Timestamp
</span><span id="1-9">    &quot;m&quot;: true,          // Was the buyer the maker?
</span><span id="1-10">    &quot;M&quot;: true           // Was the trade the best price match?
</span><span id="1-11">  }
</span><span id="1-12">]
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_aggregated_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_aggregated_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_aggregated_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns aggregated trades from id to limit or last trades if id not specified.</p>
<p>Limit applied in fromId mode defaults to 500. Maximum is 1000.</p>
<p>GET /api/v3/aggTrades</p>
<p>Get compressed, aggregate trades. Trades that fill at the time, from the same order, with the same price will have the quantity
aggregated.</p>
<p>Weight(IP): 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>fromId</strong> (<em>int</em>) – Trade id to fetch from. If not passed, gets most recent trades.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Count of trades to ask for.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Enables decimal type for return.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API.</p>
</dd>
</dl>
<p>Return example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1">[
</span><span id="1-2">  {
</span><span id="1-3">    &quot;a&quot;: 26129,         // Aggregate tradeId
</span><span id="1-4">    &quot;p&quot;: &quot;0.01633102&quot;,  // Price
</span><span id="1-5">    &quot;q&quot;: &quot;4.70443515&quot;,  // Quantity
</span><span id="1-6">    &quot;f&quot;: 27781,         // First tradeId
</span><span id="1-7">    &quot;l&quot;: 27781,         // Last tradeId
</span><span id="1-8">    &quot;T&quot;: 1498793709153, // Timestamp
</span><span id="1-9">    &quot;m&quot;: true,          // Was the buyer the maker?
</span><span id="1-10">    &quot;M&quot;: true           // Was the trade the best price match?
</span><span id="1-11">  }
</span><span id="1-12">]
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_historical_agg_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_historical_agg_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_historical_agg_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns aggregated trades from id to limit or last trades if id not specified. Also is possible to get from starTime utc in
milliseconds from epoch or until endtime milliseconds from epoch.</p>
<p>Deprecated: If it is tested with more than 1 hour of trades, it gives error 1127 and if you adjust it to one hour,
the maximum limit of 1000 is NOT applied.</p>
<p>Update: API now limits to 1000 trades requests by id.</p>
<p>Start time and end time not applied if trade id passed.</p>
<p>Limit applied in fromId mode defaults to 500. Maximum is 1000.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>startTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>endTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>start_trade_id</strong> (<em>int</em>) – A trade id as first one (older).</p></li>
<li><p><strong>end_trade_id</strong> (<em>int</em>) – A trade id as last one (newer).</p></li>
<li><p><strong>limit_ids</strong> (<em>int</em>) – Count of trades to ask for if just start_trade_id or just end_trade_id passed.
Ignored if startTime or endTime passed.</p></li>
<li><p><strong>limit_hours</strong> (<em>int</em>) – Count of hours to ask for if just startTime or just endTime passed.
Ignored if start_trade_id or end_trade_id passed.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API in dicts.</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1">[
</span><span id="1-2">  {
</span><span id="1-3">    &quot;a&quot;: 26129,         // Aggregate tradeId
</span><span id="1-4">    &quot;p&quot;: &quot;0.01633102&quot;,  // Price
</span><span id="1-5">    &quot;q&quot;: &quot;4.70443515&quot;,  // Quantity
</span><span id="1-6">    &quot;f&quot;: 27781,         // First tradeId
</span><span id="1-7">    &quot;l&quot;: 27781,         // Last tradeId
</span><span id="1-8">    &quot;T&quot;: 1498793709153, // Timestamp
</span><span id="1-9">    &quot;m&quot;: true,          // Was the buyer the maker?
</span><span id="1-10">    &quot;M&quot;: true           // Was the trade the best price match?
</span><span id="1-11">  }
</span><span id="1-12">]
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_historical_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_historical_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_historical_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns aggregated or atomic trades from id to limit or last trades if id not specified. Also is possible to get from starTime utc in
milliseconds from epoch or until endtime milliseconds from epoch.</p>
<p>Start time and end time not applied if trade id passed.</p>
<p>Limit applied in fromId mode defaults to 1000.</p>
<p>Limit hours applied in startTime or endTime mode defaults to 1 hour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>trade_type</strong> (<em>str</em>) – ‘aggregated’ or ‘atomic’.</p></li>
<li><p><strong>id_field</strong> (<em>str</em>) – ‘a’ or ‘t’ for aggregated or atomic respectively.</p></li>
<li><p><strong>timestamp_field</strong> (<em>str</em>) – ‘T’ or ‘t’ for aggregated or atomic respectively.</p></li>
<li><p><strong>startTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>endTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>start_trade_id</strong> (<em>int</em>) – A trade id as first one (older).</p></li>
<li><p><strong>end_trade_id</strong> (<em>int</em>) – A trade id as last one (newer).</p></li>
<li><p><strong>limit_ids</strong> (<em>int</em>) – Count of trades to ask for if just start_trade_id or just end_trade_id passed.
Ignored if startTime or endTime passed.</p></li>
<li><p><strong>limit_hours</strong> (<em>int</em>) – Count of hours to ask for if just startTime or just endTime passed.
Ignored if start_trade_id or end_trade_id passed.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API in dicts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.parse_agg_trades_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">parse_agg_trades_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_dupes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.market.parse_agg_trades_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the API response into a pandas dataframe.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">{</span><span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-2"> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1656166914571</span><span class="p">,</span>
</span><span id="1-3"> <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1218761712</span><span class="p">,</span>
</span><span id="1-4"> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">1424997754</span><span class="p">,</span>
</span><span id="1-5"> <span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="mi">1424997754</span><span class="p">,</span>
</span><span id="1-6"> <span class="s1">&#39;m&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="1-7"> <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="s1">&#39;21185.05000000&#39;</span><span class="p">,</span>
</span><span id="1-8"> <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03395000&#39;</span><span class="p">}</span>
</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>list</em>) – API raw response from trades.</p></li>
<li><p><strong>columns</strong> – Column names.</p></li>
<li><p><strong>symbol</strong> – The used symbol.</p></li>
<li><p><strong>time_zone</strong> – Selected time zone.</p></li>
<li><p><strong>time_index</strong> – Or integer index.</p></li>
<li><p><strong>drop_dupes</strong> (<em>str</em>) – Drop duplicated by a column name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_last_atomic_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_last_atomic_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_last_atomic_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns recent atomic (not aggregated) trades.</p>
<p>GET /api/v3/trades</p>
<p>Get recent trades.</p>
<p>Weight(IP): 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – API max limit is 1000.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API</p>
</dd>
</dl>
<p>Return example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">[</span>
</span><span id="1-2">  <span class="p">{</span>
</span><span id="1-3">    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">28457</span><span class="p">,</span>
</span><span id="1-4">    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000100&quot;</span><span class="p">,</span>
</span><span id="1-5">    <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;12.00000000&quot;</span><span class="p">,</span>
</span><span id="1-6">    <span class="s2">&quot;quoteQty&quot;</span><span class="p">:</span> <span class="s2">&quot;48.000012&quot;</span><span class="p">,</span>
</span><span id="1-7">    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1499865549590</span><span class="p">,</span>
</span><span id="1-8">    <span class="s2">&quot;isBuyerMaker&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
</span><span id="1-9">    <span class="s2">&quot;isBestMatch&quot;</span><span class="p">:</span> <span class="n">true</span>
</span><span id="1-10">  <span class="p">}</span>
</span><span id="1-11"><span class="p">]</span>
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_atomic_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_atomic_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_atomic_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns atomic (not aggregated) trades from id to limit or last trades if id not specified.</p>
<p>Limit applied in fromId mode defaults to 500. Maximum is 1000.</p>
<p>GET /api/v3/historicalTrades</p>
<p>Get older market trades.</p>
<p>Weight(IP): 5</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fromId</strong> (<em>int</em>) – Trade id to fetch from. If not passed, gets most recent trades.</p></li>
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Count of trades to ask for.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Enables decimal type for return.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API.</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1">[
</span><span id="1-2">  {
</span><span id="1-3">    &quot;id&quot;: 28457,
</span><span id="1-4">    &quot;price&quot;: &quot;4.00000100&quot;,
</span><span id="1-5">    &quot;qty&quot;: &quot;12.00000000&quot;,
</span><span id="1-6">    &quot;quoteQty&quot;: &quot;48.000012&quot;,
</span><span id="1-7">    &quot;time&quot;: 1499865549590, // Trade executed timestamp, as same as `T` in the stream
</span><span id="1-8">    &quot;isBuyerMaker&quot;: true,
</span><span id="1-9">    &quot;isBestMatch&quot;: true
</span><span id="1-10">  }
</span><span id="1-11">]
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_historical_atomic_trades">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_historical_atomic_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_trade_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#handlers.market.get_historical_atomic_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns atomic (not aggregated) trades between timestamps. It iterates over limit 1000 intervals to adjust to API limit.</p>
<p>This request can be very slow because the API request weight limit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A binance valid symbol.</p></li>
<li><p><strong>startTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>endTime</strong> (<em>int</em>) – A timestamp in milliseconds from epoch.</p></li>
<li><p><strong>start_trade_id</strong> (<em>int</em>) – A trade id as first one (older).</p></li>
<li><p><strong>end_trade_id</strong> (<em>int</em>) – A trade id as last one (newer).</p></li>
<li><p><strong>limit_ids</strong> (<em>int</em>) – Count of trades to ask for if just start_trade_id or just end_trade_id passed.
Ignored if startTime or endTime passed.</p></li>
<li><p><strong>limit_hours</strong> (<em>int</em>) – Count of hours to ask for if just startTime or just endTime passed.
Ignored if start_trade_id or end_trade_id passed.</p></li>
</ul>
</dd>
<dt class="field-even">Return list<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a list from the Binance API in dicts.</p>
</dd>
<dt class="field-odd">Return list<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns a list from the Binance API</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">Last</span> <span class="n">Trades</span> <span class="n">example</span><span class="p">:</span>
</span><span id="1-2">    <span class="p">[</span>
</span><span id="1-3">        <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">86206215</span><span class="p">,</span>
</span><span id="1-4">         <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="s1">&#39;0.00454100&#39;</span><span class="p">,</span>
</span><span id="1-5">         <span class="s1">&#39;qty&#39;</span><span class="p">:</span> <span class="s1">&#39;0.02400000&#39;</span><span class="p">,</span>
</span><span id="1-6">         <span class="s1">&#39;quoteQty&#39;</span><span class="p">:</span> <span class="s1">&#39;0.00010898&#39;</span><span class="p">,</span>
</span><span id="1-7">         <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1669579405932</span><span class="p">,</span>
</span><span id="1-8">         <span class="s1">&#39;isBuyerMaker&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="1-9">         <span class="s1">&#39;isBestMatch&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="o">...</span>
</span><span id="1-10">     <span class="p">]</span>
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.parse_atomic_trades_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">parse_atomic_trades_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_dupes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.market.parse_atomic_trades_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the API response into a pandas dataframe.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1">[
</span><span id="1-2">  {
</span><span id="1-3">    &quot;id&quot;: 28457,
</span><span id="1-4">    &quot;price&quot;: &quot;4.00000100&quot;,
</span><span id="1-5">    &quot;qty&quot;: &quot;12.00000000&quot;,
</span><span id="1-6">    &quot;quoteQty&quot;: &quot;48.000012&quot;,
</span><span id="1-7">    &quot;time&quot;: 1499865549590, // Trade executed timestamp, as same as `T` in the stream
</span><span id="1-8">    &quot;isBuyerMaker&quot;: true,
</span><span id="1-9">    &quot;isBestMatch&quot;: true
</span><span id="1-10">  }
</span><span id="1-11">]
</span><span id="1-12">
</span><span id="1-13">Redis response:
</span><span id="1-14">
</span><span id="1-15"> {&#39;e&#39;: &#39;trade&#39;,
</span><span id="1-16">  &#39;E&#39;: 1669721069347,
</span><span id="1-17">  &#39;s&#39;: &#39;LTCBTC&#39;,
</span><span id="1-18">  &#39;t&#39;: 86293174,
</span><span id="1-19">  &#39;p&#39;: &#39;0.00466300&#39;,
</span><span id="1-20">  &#39;q&#39;: &#39;3.10900000&#39;,
</span><span id="1-21">  &#39;b&#39;: 992385453,
</span><span id="1-22">  &#39;a&#39;: 992385448,
</span><span id="1-23">  &#39;T&#39;: 1669721069347,
</span><span id="1-24">  &#39;m&#39;: False,
</span><span id="1-25">  &#39;M&#39;: True},
</span><span id="1-26"> ...]
</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>list</em>) – API raw response from atomic trades.</p></li>
<li><p><strong>columns</strong> – Column names.</p></li>
<li><p><strong>symbol</strong> – The used symbol.</p></li>
<li><p><strong>time_zone</strong> – Selected time zone.</p></li>
<li><p><strong>time_index</strong> – Or integer index.</p></li>
<li><p><strong>drop_dupes</strong> (<em>str</em>) – Drop duplicated by a column name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_order_book">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_order_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.market.get_order_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with timestamp, bids and asks. Bids and asks are a list of lists with strings representing price and quantity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – A Binance valid symbol.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Max is 5000. Default 5000.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict<span class="colon">:</span></dt>
<dd class="field-even"><p>A dict with ask and bids</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">{</span>
</span><span id="1-2">  <span class="s2">&quot;lastUpdateId&quot;</span><span class="p">:</span> <span class="mi">1027024</span><span class="p">,</span>
</span><span id="1-3">  <span class="s2">&quot;bids&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="1-4">    <span class="p">[</span>
</span><span id="1-5">      <span class="s2">&quot;4.00000000&quot;</span><span class="p">,</span>     <span class="o">//</span> <span class="n">PRICE</span>
</span><span id="1-6">      <span class="s2">&quot;431.00000000&quot;</span>    <span class="o">//</span> <span class="n">QTY</span>
</span><span id="1-7">    <span class="p">]</span>
</span><span id="1-8">  <span class="p">],</span>
</span><span id="1-9">  <span class="s2">&quot;asks&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="1-10">    <span class="p">[</span>
</span><span id="1-11">      <span class="s2">&quot;4.00000200&quot;</span><span class="p">,</span>
</span><span id="1-12">      <span class="s2">&quot;12.00000000&quot;</span>
</span><span id="1-13">    <span class="p">]</span>
</span><span id="1-14">  <span class="p">]</span>
</span><span id="1-15"><span class="p">}</span>
</span></pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.get_orderbook_tickers">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">get_orderbook_tickers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.market.get_orderbook_tickers" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbol Order Book Ticker</p>
<p>GET /api/v3/ticker/bookTicker</p>
<p>Best price/qty on the order book for a symbol or symbols.</p>
<p>Weight(IP):</p>
<p>Parameter   Symbols Provided        Weight
symbol                          1       1
symbol parameter is omitted         2
symbols     Any                             2
Parameters:</p>
<p>Name        Type    Mandatory       Description
symbol      STRING  NO      Parameter symbol and symbols cannot be used in combination.</p>
<p>If neither parameter is sent, bookTickers for all symbols will be returned in an array.</p>
<p>Examples of accepted format for the symbols parameter: [“BTCUSDT”,”BNBUSDT”]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Optional. If not passed, all symbols returned.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – If selected, return decimal values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Api response is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">Response</span><span class="p">:</span>
</span><span id="1-2">
</span><span id="1-3"><span class="p">{</span>
</span><span id="1-4">  <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;LTCBTC&quot;</span><span class="p">,</span>
</span><span id="1-5">  <span class="s2">&quot;bidPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000000&quot;</span><span class="p">,</span>
</span><span id="1-6">  <span class="s2">&quot;bidQty&quot;</span><span class="p">:</span> <span class="s2">&quot;431.00000000&quot;</span><span class="p">,</span>
</span><span id="1-7">  <span class="s2">&quot;askPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000200&quot;</span><span class="p">,</span>
</span><span id="1-8">  <span class="s2">&quot;askQty&quot;</span><span class="p">:</span> <span class="s2">&quot;9.00000000&quot;</span>
</span><span id="1-9"><span class="p">}</span>
</span><span id="1-10"><span class="n">OR</span>
</span><span id="1-11">
</span><span id="1-12"><span class="p">[</span>
</span><span id="1-13">  <span class="p">{</span>
</span><span id="1-14">    <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;LTCBTC&quot;</span><span class="p">,</span>
</span><span id="1-15">    <span class="s2">&quot;bidPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000000&quot;</span><span class="p">,</span>
</span><span id="1-16">    <span class="s2">&quot;bidQty&quot;</span><span class="p">:</span> <span class="s2">&quot;431.00000000&quot;</span><span class="p">,</span>
</span><span id="1-17">    <span class="s2">&quot;askPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000200&quot;</span><span class="p">,</span>
</span><span id="1-18">    <span class="s2">&quot;askQty&quot;</span><span class="p">:</span> <span class="s2">&quot;9.00000000&quot;</span>
</span><span id="1-19">  <span class="p">},</span>
</span><span id="1-20">  <span class="p">{</span>
</span><span id="1-21">    <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;ETHBTC&quot;</span><span class="p">,</span>
</span><span id="1-22">    <span class="s2">&quot;bidPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;0.07946700&quot;</span><span class="p">,</span>
</span><span id="1-23">    <span class="s2">&quot;bidQty&quot;</span><span class="p">:</span> <span class="s2">&quot;9.00000000&quot;</span><span class="p">,</span>
</span><span id="1-24">    <span class="s2">&quot;askPrice&quot;</span><span class="p">:</span> <span class="s2">&quot;100000.00000000&quot;</span><span class="p">,</span>
</span><span id="1-25">    <span class="s2">&quot;askQty&quot;</span><span class="p">:</span> <span class="s2">&quot;1000.00000000&quot;</span>
</span><span id="1-26">  <span class="p">}</span>
</span><span id="1-27"><span class="p">]</span>
</span></pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.intermediate_conversion">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">intermediate_conversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_coin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'BTC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coin_qty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.market.intermediate_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses an intermediate symbol for conversion. Uses stablecoin USDT versus other “try” coin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coin</strong> (<em>str</em>) – A binance coin.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – It flags to work in decimal mode.</p></li>
<li><p><strong>prices</strong> (<em>dict</em>) – BinPan prices dict.</p></li>
<li><p><strong>try_coin</strong> (<em>str</em>) – Coin to try as intermediate in case of not existing pair. Default is BTC.</p></li>
<li><p><strong>coin_qty</strong> (<em>float</em>) – Quantity to convert. Default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Return float<span class="colon">:</span></dt>
<dd class="field-even"><p>converted value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.market.convert_coin">
<span class="sig-prename descclassname"><span class="pre">handlers.market.</span></span><span class="sig-name descname"><span class="pre">convert_coin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'BUSD'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coin_qty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.market.convert_coin" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a coin quantity value converted to other coin with current exchange prices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coin</strong> (<em>str</em>) – An existing coin string.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – It flags to work in decimal mode.</p></li>
<li><p><strong>convert_to</strong> (<em>str</em>) – An existing coin string.</p></li>
<li><p><strong>coin_qty</strong> (<em>float</em>) – How many coins to convert to.</p></li>
<li><p><strong>prices</strong> (<em>dict</em>) – A dictionary with symbols and prices.</p></li>
</ul>
</dd>
<dt class="field-even">Return float<span class="colon">:</span></dt>
<dd class="field-even"><p>Converted value for the quantity</p>
</dd>
</dl>
</dd></dl>

</section>

        </article>
        
      </div>
      <div class="min-w-0 max-w-6xl px-6 pb-6 xl:pt-6 xl:px-12">
        <div class="navigation flex print:hidden">
  <div class="navigation-prev">
    <a href="influx_manager.html">
      <i class="i-icon chevron"></i>
      <div class="page-info">
        <span>Previous</span>
        
        <div class="title">Influx Manager Module</div>
        
      </div>
    </a>
  </div>
  <div class="navigation-next">
    <a href="messages.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Messages Module</div>
      </div>
      <i class="i-icon chevron"></i>
    </a>
  </div>
</div>
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2022, Fernando Alfonso</p>
        
        <p>
          Made with
          
          <a href="https://www.sphinx-doc.org/">Sphinx</a> and
          
          <a href="https://shibuya.lepture.com">Shibuya theme</a>.
        </p>
      </div>
      <div class="sy-foot-socials">
      </div>
    </div>
  </div>
</footer></div>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
      <script src="_static/doctools.js"></script>
      <script src="_static/sphinx_highlight.js"></script>
      <script src="_static/shibuya.js?v=2023.6.8"></script>
    
</body>
</html>