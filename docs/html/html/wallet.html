<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wallet Module &mdash; BinPan 0.2.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Strategies Module" href="strategies.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> BinPan
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="binpan.html">BinPan Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exchange.html">Exchange Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Files Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="indicators.html">Indicators Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="market.html">Market Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Messages Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis_fetch.html">Redis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategies.html">Strategies Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Wallet Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wallet-snapshots">Wallet snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trades">Trades</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spot-balances">Spot Balances</a></li>
<li class="toctree-l2"><a class="reference internal" href="#margin-balances">Margin Balances</a></li>
<li class="toctree-l2"><a class="reference internal" href="#helper">Helper</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BinPan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Wallet Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/wallet.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wallet-module">
<h1>Wallet Module<a class="headerlink" href="#wallet-module" title="Permalink to this heading"></a></h1>
<p>This module can manage wallet data from Binance API.</p>
<p>To import this module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">handlers</span> <span class="kn">import</span> <span class="n">wallet</span>
</pre></div>
</div>
<span class="target" id="module-handlers.wallet"></span><section id="wallet-snapshots">
<h2>Wallet snapshots<a class="headerlink" href="#wallet-snapshots" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.daily_account_snapshot">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">daily_account_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">account_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.wallet.daily_account_snapshot" title="Permalink to this definition"></a></dt>
<dd><p>The query time period must be inside the previous 30 days.
Support query within the last month, one month only.
If startTime and endTime not sent, return records of the last days by default.</p>
<p>Weight(IP): 2400</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_type</strong> (<em>str</em>) – SPOT or MARGIN (cross)</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Days limit. Default 30.</p></li>
<li><p><strong>startTime</strong> (<em>int</em><em> or </em><em>str</em>) – Can be integer timestamp in milliseconds or formatted string: 2022-05-11 06:45:42</p></li>
<li><p><strong>endTime</strong> (<em>int</em><em> or </em><em>str</em>) – Can be integer timestamp in milliseconds or formatted string: 2022-05-11 06:45:42</p></li>
<li><p><strong>time_zone</strong> (<em>str</em>) – A time zone to parse index like ‘Europe/Madrid’</p></li>
</ul>
</dd>
<dt class="field-even">Return pd.DataFrame</dt>
<dd class="field-even"><p>Pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.assets_convertible_dust">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">assets_convertible_dust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.assets_convertible_dust" title="Permalink to this definition"></a></dt>
<dd><p>Assets dust that can be converted to BNB.
Weight(IP): 1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – It flags to work in decimal mode.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dictionary.</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
     &quot;details&quot;: [
         {
             &quot;asset&quot;: &quot;ADA&quot;,
             &quot;assetFullName&quot;: &quot;ADA&quot;,
             &quot;amountFree&quot;: &quot;6.21&quot;,   //Convertible amount
             &quot;toBTC&quot;: &quot;0.00016848&quot;,  //BTC amount
             &quot;toBNB&quot;: &quot;0.01777302&quot;,  //BNB amount（Not deducted commission fee）
             &quot;toBNBOffExchange&quot;: &quot;0.01741756&quot;, //BNB amount（Deducted commission fee）
             &quot;exchange&quot;: &quot;0.00035546&quot; //Commission fee
         }
     ],
     &quot;totalTransferBtc&quot;: &quot;0.00016848&quot;,
     &quot;totalTransferBNB&quot;: &quot;0.01777302&quot;,
     &quot;dribbletPercentage&quot;: &quot;0.02&quot;     //Commission fee
 }
</pre></div>
</div>
</dd></dl>

</section>
<section id="trades">
<h2>Trades<a class="headerlink" href="#trades" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_fills_price">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_fills_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_order_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isBuyer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.wallet.get_fills_price" title="Permalink to this definition"></a></dt>
<dd><p>Obtain averaged price from order API response or claims last trade.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_order_dict</strong> (<em>dict</em>) – API order dict response.</p></li>
<li><p><strong>isBuyer</strong> (<em>bool</em>) – Sets if was a buyer order to filter for wanted order.</p></li>
<li><p><strong>margin</strong> (<em>bool</em>) – Sets margin order if it is to claim.</p></li>
<li><p><strong>test_mode</strong> (<em>bool</em>) – Set if test mode is on.</p></li>
<li><p><strong>operation_time</strong> (<em>int</em>) – Time limit of operation to analyze.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
<dt class="field-even">Return float</dt>
<dd class="field-even"><p>Price averaged.</p>
</dd>
</dl>
<p>Example of not totally done order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;ACMBUSD&#39;</span><span class="p">,</span>
<span class="s1">&#39;orderId&#39;</span><span class="p">:</span> <span class="mi">53255492</span><span class="p">,</span>
<span class="s1">&#39;orderListId&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="s1">&#39;clientOrderId&#39;</span><span class="p">:</span> <span class="s1">&#39;DUHlcCqIX2OO298XoAbvEB&#39;</span><span class="p">,</span>
<span class="s1">&#39;transactTime&#39;</span><span class="p">:</span> <span class="mi">1660332903950</span><span class="p">,</span>
<span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mf">4.158</span><span class="p">,</span>
<span class="s1">&#39;origQty&#39;</span><span class="p">:</span> <span class="mf">21.1</span><span class="p">,</span>
<span class="s1">&#39;executedQty&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="s1">&#39;cummulativeQuoteQty&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;NEW&#39;</span><span class="p">,</span>
<span class="s1">&#39;timeInForce&#39;</span><span class="p">:</span> <span class="s1">&#39;GTC&#39;</span><span class="p">,</span>
<span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;LIMIT&#39;</span><span class="p">,</span>
<span class="s1">&#39;side&#39;</span><span class="p">:</span> <span class="s1">&#39;BUY&#39;</span><span class="p">,</span>
<span class="s1">&#39;fills&#39;</span><span class="p">:</span> <span class="p">[]}</span>
</pre></div>
</div>
<p>Example of full SPOT response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
  <span class="s2">&quot;orderId&quot;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
  <span class="s2">&quot;orderListId&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">//</span><span class="n">Unless</span> <span class="n">OCO</span><span class="p">,</span> <span class="n">value</span> <span class="n">will</span> <span class="n">be</span> <span class="o">-</span><span class="mi">1</span>
  <span class="s2">&quot;clientOrderId&quot;</span><span class="p">:</span> <span class="s2">&quot;6gCrw2kRUFF9CvJDWP16IP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;transactTime&quot;</span><span class="p">:</span> <span class="mi">1507725176595</span><span class="p">,</span>
  <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;origQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;executedQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;cummulativeQuoteQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;FILLED&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timeInForce&quot;</span><span class="p">:</span> <span class="s2">&quot;GTC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKET&quot;</span><span class="p">,</span>
  <span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;SELL&quot;</span><span class="p">,</span>
  <span class="s2">&quot;strategyId&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>               <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">visible</span> <span class="k">if</span> <span class="n">the</span> <span class="n">field</span> <span class="n">was</span> <span class="n">populated</span> <span class="n">on</span> <span class="n">order</span> <span class="n">placement</span><span class="o">.</span>
  <span class="s2">&quot;strategyType&quot;</span><span class="p">:</span> <span class="mi">1000000</span>        <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">visible</span> <span class="k">if</span> <span class="n">the</span> <span class="n">field</span> <span class="n">was</span> <span class="n">populated</span> <span class="n">on</span> <span class="n">order</span> <span class="n">placement</span><span class="o">.</span>
  <span class="s2">&quot;fills&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;4000.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tradeId&quot;</span><span class="p">:</span> <span class="mi">56</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3999.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;5.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;19.99500000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tradeId&quot;</span><span class="p">:</span> <span class="mi">57</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3998.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;2.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;7.99600000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tradeId&quot;</span><span class="p">:</span> <span class="mi">58</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3997.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;3.99700000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tradeId&quot;</span><span class="p">:</span> <span class="mi">59</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3995.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;3.99500000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tradeId&quot;</span><span class="p">:</span> <span class="mi">60</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example of FULL MARGIN RESPONSE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BTCUSDT&quot;</span><span class="p">,</span>
  <span class="s2">&quot;orderId&quot;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
  <span class="s2">&quot;clientOrderId&quot;</span><span class="p">:</span> <span class="s2">&quot;6gCrw2kRUFF9CvJDWP16IP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;transactTime&quot;</span><span class="p">:</span> <span class="mi">1507725176595</span><span class="p">,</span>
  <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;origQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;executedQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;cummulativeQuoteQty&quot;</span><span class="p">:</span> <span class="s2">&quot;10.00000000&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;FILLED&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timeInForce&quot;</span><span class="p">:</span> <span class="s2">&quot;GTC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;MARKET&quot;</span><span class="p">,</span>
  <span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;SELL&quot;</span><span class="p">,</span>
  <span class="s2">&quot;marginBuyBorrowAmount&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>       <span class="o">//</span> <span class="n">will</span> <span class="ow">not</span> <span class="k">return</span> <span class="k">if</span> <span class="n">no</span> <span class="n">margin</span> <span class="n">trade</span> <span class="n">happens</span>
  <span class="s2">&quot;marginBuyBorrowAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>    <span class="o">//</span> <span class="n">will</span> <span class="ow">not</span> <span class="k">return</span> <span class="k">if</span> <span class="n">no</span> <span class="n">margin</span> <span class="n">trade</span> <span class="n">happens</span>
  <span class="s2">&quot;isIsolated&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>       <span class="o">//</span> <span class="k">if</span> <span class="n">isolated</span> <span class="n">margin</span>
  <span class="s2">&quot;fills&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;4000.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3999.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;5.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;19.99500000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3998.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;2.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;7.99600000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3997.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;3.99700000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;3995.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;1.00000000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;3.99500000&quot;</span><span class="p">,</span>
      <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>STOP LIMIT EXAMPLE requested order response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;symbol&#39;</span><span class="p">:</span> <span class="s1">&#39;CHZBUSD&#39;</span><span class="p">,</span>
 <span class="s1">&#39;orderId&#39;</span><span class="p">:</span> <span class="mi">212320642</span><span class="p">,</span>
 <span class="s1">&#39;orderListId&#39;</span><span class="p">:</span> <span class="mi">72689217</span><span class="p">,</span>
 <span class="s1">&#39;clientOrderId&#39;</span><span class="p">:</span> <span class="s1">&#39;FLc7AHuuZCpChiH99eHtZh&#39;</span><span class="p">,</span>
 <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mf">0.2139</span><span class="p">,</span>
 <span class="s1">&#39;origQty&#39;</span><span class="p">:</span> <span class="mf">224.0</span><span class="p">,</span>
 <span class="s1">&#39;executedQty&#39;</span><span class="p">:</span> <span class="mf">224.0</span><span class="p">,</span>
 <span class="s1">&#39;cummulativeQuoteQty&#39;</span><span class="p">:</span> <span class="mf">47.9584</span><span class="p">,</span>
 <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;FILLED&#39;</span><span class="p">,</span>
 <span class="s1">&#39;timeInForce&#39;</span><span class="p">:</span> <span class="s1">&#39;GTC&#39;</span><span class="p">,</span>
 <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;STOP_LOSS_LIMIT&#39;</span><span class="p">,</span>
 <span class="s1">&#39;side&#39;</span><span class="p">:</span> <span class="s1">&#39;SELL&#39;</span><span class="p">,</span>
 <span class="s1">&#39;stopPrice&#39;</span><span class="p">:</span> <span class="mf">0.2141</span><span class="p">,</span>
 <span class="s1">&#39;icebergQty&#39;</span><span class="p">:</span> <span class="s1">&#39;0.00000000&#39;</span><span class="p">,</span>
 <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1661203865507</span><span class="p">,</span>
 <span class="s1">&#39;updateTime&#39;</span><span class="p">:</span> <span class="mi">1661203966780</span><span class="p">,</span>
 <span class="s1">&#39;isWorking&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;origQuoteOrderQty&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">},</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_fills_qty">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_fills_qty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_order_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isBuyer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.wallet.get_fills_qty" title="Permalink to this definition"></a></dt>
<dd><p>Extracts order quantity from an order response or checks a trade from API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_order_dict</strong> (<em>dict</em>) – A putting order response from API dict.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>margin</strong> (<em>bool</em>) – Checks if margin or not.</p></li>
<li><p><strong>isBuyer</strong> (<em>bool</em>) – Sets if buy or sell side.</p></li>
<li><p><strong>operation_time</strong> (<em>int</em>) – A limit old timestamp to verify existence of order.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Sets Decimal operating mode.</p></li>
</ul>
</dd>
<dt class="field-even">Return float or decimal.Decimal</dt>
<dd class="field-even"><p>Returns the needed value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_trades_list">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_trades_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orderId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recvWindow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_trades_list" title="Permalink to this definition"></a></dt>
<dd><p>Get trades for a specific account and symbol.</p>
<p>Weight(IP): 10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Symbol’s trades.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Default 500; max 1000.</p></li>
<li><p><strong>fromId</strong> – TradeId to fetch from. Default gets most recent trades. If fromId is set, it will get id &gt;= that fromId. Otherwise,
most recent trades are returned.</p></li>
<li><p><strong>endTime</strong> (<em>int</em>) – Optional.</p></li>
<li><p><strong>startTime</strong> (<em>int</em>) – Optional.</p></li>
<li><p><strong>orderId</strong> (<em>int</em>) – This can only be used in combination with symbol.</p></li>
<li><p><strong>recvWindow</strong> (<em>int</em>) – The value cannot be greater than 60000</p></li>
</ul>
</dd>
<dt class="field-even">Return list</dt>
<dd class="field-even"><p>A list.</p>
</dd>
</dl>
<p>Example:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
       <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BNBBTC&quot;</span><span class="p">,</span>
       <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">28457</span><span class="p">,</span>
       <span class="s2">&quot;orderId&quot;</span><span class="p">:</span> <span class="mi">100234</span><span class="p">,</span>
       <span class="s2">&quot;orderListId&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">//</span><span class="n">Unless</span> <span class="n">OCO</span><span class="p">,</span> <span class="n">the</span> <span class="n">value</span> <span class="n">will</span> <span class="n">always</span> <span class="n">be</span> <span class="o">-</span><span class="mi">1</span>
       <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;4.00000100&quot;</span><span class="p">,</span>
       <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;12.00000000&quot;</span><span class="p">,</span>
       <span class="s2">&quot;quoteQty&quot;</span><span class="p">:</span> <span class="s2">&quot;48.000012&quot;</span><span class="p">,</span>
       <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;10.10000000&quot;</span><span class="p">,</span>
       <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;BNB&quot;</span><span class="p">,</span>
       <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1499865549590</span><span class="p">,</span>
       <span class="s2">&quot;isBuyer&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
       <span class="s2">&quot;isMaker&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
       <span class="s2">&quot;isBestMatch&quot;</span><span class="p">:</span> <span class="n">true</span>
     <span class="p">}</span>
  <span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_trades_list">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_trades_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isIsolated</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orderId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromId</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recvWindow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_trades_list" title="Permalink to this definition"></a></dt>
<dd><p>Get margin trades for a specific account and symbol.</p>
<p>If fromId is set, it will get trades &gt;= that fromId. Otherwise most recent trades are returned.</p>
<p>Weight(IP): 10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Symbol’s trades.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>isIsolated</strong> (<em>bool</em>) – Sets for getting isolated or not isolated trades. Default is false.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – Default 500; max 1000.</p></li>
<li><p><strong>fromId</strong> – TradeId to fetch from. Default gets most recent trades. If fromId is set, it will get id &gt;= that fromId. Otherwise,
most recent trades are returned.</p></li>
<li><p><strong>endTime</strong> (<em>int</em>) – Optional.</p></li>
<li><p><strong>startTime</strong> (<em>int</em>) – Optional.</p></li>
<li><p><strong>orderId</strong> (<em>int</em>) – This can only be used in combination with symbol.</p></li>
<li><p><strong>recvWindow</strong> (<em>int</em>) – The value cannot be greater than 60000</p></li>
</ul>
</dd>
<dt class="field-even">Return list</dt>
<dd class="field-even"><p>A list.</p>
</dd>
</dl>
<p>Example:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;commission&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00006000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;commissionAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span>
        <span class="s2">&quot;isBestMatch&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;isBuyer&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;isMaker&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;orderId&quot;</span><span class="p">:</span> <span class="mi">39324</span><span class="p">,</span>
        <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;0.02000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qty&quot;</span><span class="p">:</span> <span class="s2">&quot;3.00000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="s2">&quot;BNBBTC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;isIsolated&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1561973357171</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

</section>
<section id="spot-balances">
<h2>Spot Balances<a class="headerlink" href="#spot-balances" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_account_info">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_account_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recvWindow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_account_info" title="Permalink to this definition"></a></dt>
<dd><p>Get current account information.</p>
<p>Weight(IP): 10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>recvWindow</strong> (<em>int</em>) – The value cannot be greater than 60000</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dictionary with data.</p>
</dd>
</dl>
<p>Example:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;makerCommission&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
   <span class="s2">&quot;takerCommission&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
   <span class="s2">&quot;buyerCommission&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;sellerCommission&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;canTrade&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
   <span class="s2">&quot;canWithdraw&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
   <span class="s2">&quot;canDeposit&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
   <span class="s2">&quot;updateTime&quot;</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span>
   <span class="s2">&quot;accountType&quot;</span><span class="p">:</span> <span class="s2">&quot;SPOT&quot;</span><span class="p">,</span>
   <span class="s2">&quot;balances&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span><span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span> <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;4723846.89208129&quot;</span><span class="p">,</span><span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">},</span>
     <span class="p">{</span><span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;LTC&quot;</span><span class="p">,</span><span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;4763368.68006011&quot;</span><span class="p">,</span><span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;SPOT&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_free_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_free_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_free_balances" title="Permalink to this definition"></a></dt>
<dd><p>Parses available balances from account info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_dic</strong> (<em>dict</em>) – If available, account info can be passed as data_dic parameter to avoid API calling.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>Free balances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_locked_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_locked_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_locked_balances" title="Permalink to this definition"></a></dt>
<dd><p>Parses locked in order balances from account info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>data_dic</strong> (<em>dict</em>) – If available, account info can be passed as data_dic parameter to avoid API calling.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>Locked balances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_coins_with_balance">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_coins_with_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#handlers.wallet.get_coins_with_balance" title="Permalink to this definition"></a></dt>
<dd><p>Get the non-zero balances of an account, free or locked ones. Useful getting wallet value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
<dt class="field-even">Return list</dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_balances_df">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_balances_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_empty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_balances_df" title="Permalink to this definition"></a></dt>
<dd><p>Create a dataframe with the free or blocked amounts of the spot wallet. The index is the assets list.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">handlers.messages</span> <span class="kn">import</span> <span class="n">get_spot_balances_df</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">get_spot_balances_df</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

            <span class="n">free</span>      <span class="n">locked</span>
     <span class="n">asset</span>
     <span class="n">BNB</span>    <span class="mf">0.128359</span>     <span class="mf">0.0</span>
     <span class="n">BUSD</span>   <span class="mf">0.000001</span>     <span class="mf">0.0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>filter_empty</strong> (<em>bool</em>) – Discards empty quantities.</p></li>
</ul>
</dd>
<dt class="field-even">Return pd.DataFrame</dt>
<dd class="field-even"><p>A dataframe with assets locked or free.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_spot_balances_total_value">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_spot_balances_total_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'BUSD'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.wallet.get_spot_balances_total_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns total value expressed in a quote coin. Counts free and locked assets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>balances_df</strong> (<em>pd.DataFrame</em>) – A BinPan balances dataframe.</p></li>
<li><p><strong>convert_to</strong> (<em>str</em>) – A Binance coin.</p></li>
</ul>
</dd>
<dt class="field-even">Return float</dt>
<dd class="field-even"><p>Total quantity expressed in quote.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="margin-balances">
<h2>Margin Balances<a class="headerlink" href="#margin-balances" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_account_details">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_account_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_account_details" title="Permalink to this definition"></a></dt>
<dd><p>Query Cross Margin Account Details (USER_DATA)</p>
<p>GET /sapi/v1/margin/account (HMAC SHA256)</p>
<p>Weight(IP): 10</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
</dl>
<p>Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
       <span class="s2">&quot;borrowEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
       <span class="s2">&quot;marginLevel&quot;</span><span class="p">:</span> <span class="s2">&quot;11.64405625&quot;</span><span class="p">,</span>
       <span class="s2">&quot;totalAssetOfBtc&quot;</span><span class="p">:</span> <span class="s2">&quot;6.82728457&quot;</span><span class="p">,</span>
       <span class="s2">&quot;totalLiabilityOfBtc&quot;</span><span class="p">:</span> <span class="s2">&quot;0.58633215&quot;</span><span class="p">,</span>
       <span class="s2">&quot;totalNetAssetOfBtc&quot;</span><span class="p">:</span> <span class="s2">&quot;6.24095242&quot;</span><span class="p">,</span>
       <span class="s2">&quot;tradeEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
       <span class="s2">&quot;transferEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
       <span class="s2">&quot;userAssets&quot;</span><span class="p">:</span> <span class="p">[</span>
           <span class="p">{</span>
               <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
               <span class="s2">&quot;borrowed&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00499500&quot;</span><span class="p">,</span>
               <span class="s2">&quot;interest&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;netAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00499500&quot;</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;BNB&quot;</span><span class="p">,</span>
               <span class="s2">&quot;borrowed&quot;</span><span class="p">:</span> <span class="s2">&quot;201.66666672&quot;</span><span class="p">,</span>
               <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;2346.50000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;interest&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;netAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;2144.83333328&quot;</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;ETH&quot;</span><span class="p">,</span>
               <span class="s2">&quot;borrowed&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;interest&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;netAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;USDT&quot;</span><span class="p">,</span>
               <span class="s2">&quot;borrowed&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;interest&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;locked&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span><span class="p">,</span>
               <span class="s2">&quot;netAsset&quot;</span><span class="p">:</span> <span class="s2">&quot;0.00000000&quot;</span>
           <span class="p">}</span>
       <span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_balances" title="Permalink to this definition"></a></dt>
<dd><p>Collects balances in the margin account that are not null.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type and operative.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dictionary with coins with balances.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;BNB&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;free&#39;</span><span class="p">:</span> <span class="mf">0.06</span><span class="p">,</span>
   <span class="s1">&#39;locked&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;borrowed&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;interest&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;netAsset&#39;</span><span class="p">:</span> <span class="mf">0.06</span><span class="p">},</span>
  <span class="s1">&#39;BUSD&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;free&#39;</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span>
   <span class="s1">&#39;locked&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;borrowed&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;interest&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;netAsset&#39;</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_free_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_free_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_free_balances" title="Permalink to this definition"></a></dt>
<dd><p>Just returns free existing balances. It is optional to avoid an API call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balances</strong> (<em>dict</em>) – Returns dict with assets as keys and a float value for not null quantities.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dict with float values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_borrowed_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_borrowed_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_borrowed_balances" title="Permalink to this definition"></a></dt>
<dd><p>Just returns borrowed existing balances. It is optional to avoid an API call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>balances</strong> (<em>dict</em>) – Returns dict with assets as keys and a float value for not null quantities.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dict with float values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_interest_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_interest_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_interest_balances" title="Permalink to this definition"></a></dt>
<dd><p>Just returns interest existing balances. It is optional to avoid an API call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>balances</strong> (<em>dict</em>) – Returns dict with assets as keys and a float value for not null quantities.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dict with float values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_netAsset_balances">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_netAsset_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.wallet.get_margin_netAsset_balances" title="Permalink to this definition"></a></dt>
<dd><p>Just returns netAsset existing balances. It is optional to avoid an API call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>balances</strong> (<em>dict</em>) – Returns dict with assets as keys and a float value for not null quantities.</p></li>
</ul>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>A dict with float values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.get_margin_balances_total_value">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">get_margin_balances_total_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'BUSD'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#handlers.wallet.get_margin_balances_total_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns total value expressed in a quote coin. Counts free, locked, borrowed and interest assets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balances</strong> (<em>dict</em>) – A BinPan balances dict. It is optional to avoid an API call.</p></li>
<li><p><strong>api_key</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api key. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>api_secret</strong> (<em>str</em>) – A BinPan encrypted in BinPan’s way api secret. Do not use unencrypted api values, import it from  secret.py file.</p></li>
<li><p><strong>convert_to</strong> (<em>str</em>) – A Binance coin.</p></li>
<li><p><strong>decimal_mode</strong> (<em>bool</em>) – Fixes Decimal return type.</p></li>
</ul>
</dd>
<dt class="field-even">Return float</dt>
<dd class="field-even"><p>Total quantity expressed in quote.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="helper">
<h2>Helper<a class="headerlink" href="#helper" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="handlers.wallet.convert_str_date_to_ms">
<span class="sig-prename descclassname"><span class="pre">handlers.wallet.</span></span><span class="sig-name descname"><span class="pre">convert_str_date_to_ms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_zone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#handlers.wallet.convert_str_date_to_ms" title="Permalink to this definition"></a></dt>
<dd><p>Converts dates strings formatted as “2022-05-11 06:45:42” to timestamp in milliseconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> (<em>str</em><em> or </em><em>int</em>) – Date to check format.</p></li>
<li><p><strong>time_zone</strong> – A time zone like ‘Europe/Madrid’</p></li>
</ul>
</dd>
<dt class="field-even">Return int</dt>
<dd class="field-even"><p>Milliseconds of timestamp.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="strategies.html" class="btn btn-neutral float-left" title="Strategies Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Fernando Alfonso.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>